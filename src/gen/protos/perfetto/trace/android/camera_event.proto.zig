// =============================================================================
// DO NOT EDIT - This file is automatically generated by gremlin.zig
// =============================================================================
const std = @import("std");
const gremlin = @import("gremlin");
// structs
const AndroidCameraFrameEventWire = struct {
    const SESSION_ID_WIRE: gremlin.ProtoWireNumber = 1;
    const CAMERA_ID_WIRE: gremlin.ProtoWireNumber = 2;
    const FRAME_NUMBER_WIRE: gremlin.ProtoWireNumber = 3;
    const REQUEST_ID_WIRE: gremlin.ProtoWireNumber = 4;
    const REQUEST_RECEIVED_NS_WIRE: gremlin.ProtoWireNumber = 5;
    const REQUEST_PROCESSING_STARTED_NS_WIRE: gremlin.ProtoWireNumber = 6;
    const START_OF_EXPOSURE_NS_WIRE: gremlin.ProtoWireNumber = 7;
    const START_OF_FRAME_NS_WIRE: gremlin.ProtoWireNumber = 8;
    const RESPONSES_ALL_SENT_NS_WIRE: gremlin.ProtoWireNumber = 9;
    const CAPTURE_RESULT_STATUS_WIRE: gremlin.ProtoWireNumber = 10;
    const SKIPPED_SENSOR_FRAMES_WIRE: gremlin.ProtoWireNumber = 11;
    const CAPTURE_INTENT_WIRE: gremlin.ProtoWireNumber = 12;
    const NUM_STREAMS_WIRE: gremlin.ProtoWireNumber = 13;
    const NODE_PROCESSING_DETAILS_WIRE: gremlin.ProtoWireNumber = 14;
    const VENDOR_DATA_VERSION_WIRE: gremlin.ProtoWireNumber = 15;
    const VENDOR_DATA_WIRE: gremlin.ProtoWireNumber = 16;
};
pub const AndroidCameraFrameEvent = struct {
    // nested enums
    pub const CaptureResultStatus = enum(i32) {
        STATUS_UNSPECIFIED = 0,
        STATUS_OK = 1,
        STATUS_EARLY_METADATA_ERROR = 2,
        STATUS_FINAL_METADATA_ERROR = 3,
        STATUS_BUFFER_ERROR = 4,
        STATUS_FLUSH_ERROR = 5,
    };
    // nested structs
    const CameraNodeProcessingDetailsWire = struct {
        const NODE_ID_WIRE: gremlin.ProtoWireNumber = 1;
        const START_PROCESSING_NS_WIRE: gremlin.ProtoWireNumber = 2;
        const END_PROCESSING_NS_WIRE: gremlin.ProtoWireNumber = 3;
        const SCHEDULING_LATENCY_NS_WIRE: gremlin.ProtoWireNumber = 4;
    };
    pub const CameraNodeProcessingDetails = struct {
        // fields
        node_id: i64 = 0,
        start_processing_ns: i64 = 0,
        end_processing_ns: i64 = 0,
        scheduling_latency_ns: i64 = 0,
        pub fn calcProtobufSize(self: *const AndroidCameraFrameEvent.CameraNodeProcessingDetails) usize {
            var res: usize = 0;
            if (self.node_id != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.NODE_ID_WIRE) + gremlin.sizes.sizeI64(self.node_id);
            }
            if (self.start_processing_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.START_PROCESSING_NS_WIRE) + gremlin.sizes.sizeI64(self.start_processing_ns);
            }
            if (self.end_processing_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.END_PROCESSING_NS_WIRE) + gremlin.sizes.sizeI64(self.end_processing_ns);
            }
            if (self.scheduling_latency_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.SCHEDULING_LATENCY_NS_WIRE) + gremlin.sizes.sizeI64(self.scheduling_latency_ns);
            }
            return res;
        }
        pub fn encode(self: *const AndroidCameraFrameEvent.CameraNodeProcessingDetails, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidCameraFrameEvent.CameraNodeProcessingDetails, target: *gremlin.Writer) void {
            if (self.node_id != 0) {
                target.appendInt64(AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.NODE_ID_WIRE, self.node_id);
            }
            if (self.start_processing_ns != 0) {
                target.appendInt64(AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.START_PROCESSING_NS_WIRE, self.start_processing_ns);
            }
            if (self.end_processing_ns != 0) {
                target.appendInt64(AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.END_PROCESSING_NS_WIRE, self.end_processing_ns);
            }
            if (self.scheduling_latency_ns != 0) {
                target.appendInt64(AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.SCHEDULING_LATENCY_NS_WIRE, self.scheduling_latency_ns);
            }
        }
    };
    pub const CameraNodeProcessingDetailsReader = struct {
        buf: gremlin.Reader,
        _node_id: i64 = 0,
        _start_processing_ns: i64 = 0,
        _end_processing_ns: i64 = 0,
        _scheduling_latency_ns: i64 = 0,
        pub fn init(src: []const u8) gremlin.Error!AndroidCameraFrameEvent.CameraNodeProcessingDetailsReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidCameraFrameEvent.CameraNodeProcessingDetailsReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.NODE_ID_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._node_id = result.value;
                    },
                    AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.START_PROCESSING_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._start_processing_ns = result.value;
                    },
                    AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.END_PROCESSING_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._end_processing_ns = result.value;
                    },
                    AndroidCameraFrameEvent.CameraNodeProcessingDetailsWire.SCHEDULING_LATENCY_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._scheduling_latency_ns = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getNodeId(self: *const AndroidCameraFrameEvent.CameraNodeProcessingDetailsReader) i64 {
            return self._node_id;
        }
        pub inline fn getStartProcessingNs(self: *const AndroidCameraFrameEvent.CameraNodeProcessingDetailsReader) i64 {
            return self._start_processing_ns;
        }
        pub inline fn getEndProcessingNs(self: *const AndroidCameraFrameEvent.CameraNodeProcessingDetailsReader) i64 {
            return self._end_processing_ns;
        }
        pub inline fn getSchedulingLatencyNs(self: *const AndroidCameraFrameEvent.CameraNodeProcessingDetailsReader) i64 {
            return self._scheduling_latency_ns;
        }
    };
    // fields
    session_id: u64 = 0,
    camera_id: u32 = 0,
    frame_number: i64 = 0,
    request_id: i64 = 0,
    request_received_ns: i64 = 0,
    request_processing_started_ns: i64 = 0,
    start_of_exposure_ns: i64 = 0,
    start_of_frame_ns: i64 = 0,
    responses_all_sent_ns: i64 = 0,
    capture_result_status: AndroidCameraFrameEvent.CaptureResultStatus = @enumFromInt(0),
    skipped_sensor_frames: i32 = 0,
    capture_intent: i32 = 0,
    num_streams: i32 = 0,
    node_processing_details: ?[]const ?AndroidCameraFrameEvent.CameraNodeProcessingDetails = null,
    vendor_data_version: i32 = 0,
    vendor_data: ?[]const u8 = null,
    pub fn calcProtobufSize(self: *const AndroidCameraFrameEvent) usize {
        var res: usize = 0;
        if (self.session_id != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.SESSION_ID_WIRE) + gremlin.sizes.sizeU64(self.session_id);
        }
        if (self.camera_id != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.CAMERA_ID_WIRE) + gremlin.sizes.sizeU32(self.camera_id);
        }
        if (self.frame_number != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.FRAME_NUMBER_WIRE) + gremlin.sizes.sizeI64(self.frame_number);
        }
        if (self.request_id != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.REQUEST_ID_WIRE) + gremlin.sizes.sizeI64(self.request_id);
        }
        if (self.request_received_ns != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.REQUEST_RECEIVED_NS_WIRE) + gremlin.sizes.sizeI64(self.request_received_ns);
        }
        if (self.request_processing_started_ns != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.REQUEST_PROCESSING_STARTED_NS_WIRE) + gremlin.sizes.sizeI64(self.request_processing_started_ns);
        }
        if (self.start_of_exposure_ns != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.START_OF_EXPOSURE_NS_WIRE) + gremlin.sizes.sizeI64(self.start_of_exposure_ns);
        }
        if (self.start_of_frame_ns != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.START_OF_FRAME_NS_WIRE) + gremlin.sizes.sizeI64(self.start_of_frame_ns);
        }
        if (self.responses_all_sent_ns != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.RESPONSES_ALL_SENT_NS_WIRE) + gremlin.sizes.sizeI64(self.responses_all_sent_ns);
        }
        if (@intFromEnum(self.capture_result_status) != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.CAPTURE_RESULT_STATUS_WIRE) + gremlin.sizes.sizeI32(@intFromEnum(self.capture_result_status));
        }
        if (self.skipped_sensor_frames != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.SKIPPED_SENSOR_FRAMES_WIRE) + gremlin.sizes.sizeI32(self.skipped_sensor_frames);
        }
        if (self.capture_intent != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.CAPTURE_INTENT_WIRE) + gremlin.sizes.sizeI32(self.capture_intent);
        }
        if (self.num_streams != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.NUM_STREAMS_WIRE) + gremlin.sizes.sizeI32(self.num_streams);
        }
        if (self.node_processing_details) |arr| {
            for (arr) |maybe_v| {
                res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.NODE_PROCESSING_DETAILS_WIRE);
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    res += gremlin.sizes.sizeUsize(size) + size;
                } else {
                    res += gremlin.sizes.sizeUsize(0);
                }
            }
        }
        if (self.vendor_data_version != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.VENDOR_DATA_VERSION_WIRE) + gremlin.sizes.sizeI32(self.vendor_data_version);
        }
        if (self.vendor_data) |v| {
            if (v.len > 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidCameraFrameEventWire.VENDOR_DATA_WIRE) + gremlin.sizes.sizeUsize(v.len) + v.len;
            }
        }
        return res;
    }
    pub fn encode(self: *const AndroidCameraFrameEvent, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
        const size = self.calcProtobufSize();
        if (size == 0) {
            return &[_]u8{};
        }
        const buf = try allocator.alloc(u8, self.calcProtobufSize());
        var writer = gremlin.Writer.init(buf);
        self.encodeTo(&writer);
        return buf;
    }
    pub fn encodeTo(self: *const AndroidCameraFrameEvent, target: *gremlin.Writer) void {
        if (self.session_id != 0) {
            target.appendUint64(AndroidCameraFrameEventWire.SESSION_ID_WIRE, self.session_id);
        }
        if (self.camera_id != 0) {
            target.appendUint32(AndroidCameraFrameEventWire.CAMERA_ID_WIRE, self.camera_id);
        }
        if (self.frame_number != 0) {
            target.appendInt64(AndroidCameraFrameEventWire.FRAME_NUMBER_WIRE, self.frame_number);
        }
        if (self.request_id != 0) {
            target.appendInt64(AndroidCameraFrameEventWire.REQUEST_ID_WIRE, self.request_id);
        }
        if (self.request_received_ns != 0) {
            target.appendInt64(AndroidCameraFrameEventWire.REQUEST_RECEIVED_NS_WIRE, self.request_received_ns);
        }
        if (self.request_processing_started_ns != 0) {
            target.appendInt64(AndroidCameraFrameEventWire.REQUEST_PROCESSING_STARTED_NS_WIRE, self.request_processing_started_ns);
        }
        if (self.start_of_exposure_ns != 0) {
            target.appendInt64(AndroidCameraFrameEventWire.START_OF_EXPOSURE_NS_WIRE, self.start_of_exposure_ns);
        }
        if (self.start_of_frame_ns != 0) {
            target.appendInt64(AndroidCameraFrameEventWire.START_OF_FRAME_NS_WIRE, self.start_of_frame_ns);
        }
        if (self.responses_all_sent_ns != 0) {
            target.appendInt64(AndroidCameraFrameEventWire.RESPONSES_ALL_SENT_NS_WIRE, self.responses_all_sent_ns);
        }
        if (@intFromEnum(self.capture_result_status) != 0) {
            target.appendInt32(AndroidCameraFrameEventWire.CAPTURE_RESULT_STATUS_WIRE, @intFromEnum(self.capture_result_status));
        }
        if (self.skipped_sensor_frames != 0) {
            target.appendInt32(AndroidCameraFrameEventWire.SKIPPED_SENSOR_FRAMES_WIRE, self.skipped_sensor_frames);
        }
        if (self.capture_intent != 0) {
            target.appendInt32(AndroidCameraFrameEventWire.CAPTURE_INTENT_WIRE, self.capture_intent);
        }
        if (self.num_streams != 0) {
            target.appendInt32(AndroidCameraFrameEventWire.NUM_STREAMS_WIRE, self.num_streams);
        }
        if (self.node_processing_details) |arr| {
            for (arr) |maybe_v| {
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    target.appendBytesTag(AndroidCameraFrameEventWire.NODE_PROCESSING_DETAILS_WIRE, size);
                    v.encodeTo(target);
                } else {
                    target.appendBytesTag(AndroidCameraFrameEventWire.NODE_PROCESSING_DETAILS_WIRE, 0);
                }
            }
        }
        if (self.vendor_data_version != 0) {
            target.appendInt32(AndroidCameraFrameEventWire.VENDOR_DATA_VERSION_WIRE, self.vendor_data_version);
        }
        if (self.vendor_data) |v| {
            if (v.len > 0) {
                target.appendBytes(AndroidCameraFrameEventWire.VENDOR_DATA_WIRE, v);
            }
        }
    }
};
pub const AndroidCameraFrameEventReader = struct {
    buf: gremlin.Reader,
    _session_id: u64 = 0,
    _camera_id: u32 = 0,
    _frame_number: i64 = 0,
    _request_id: i64 = 0,
    _request_received_ns: i64 = 0,
    _request_processing_started_ns: i64 = 0,
    _start_of_exposure_ns: i64 = 0,
    _start_of_frame_ns: i64 = 0,
    _responses_all_sent_ns: i64 = 0,
    _capture_result_status: AndroidCameraFrameEvent.CaptureResultStatus = @enumFromInt(0),
    _skipped_sensor_frames: i32 = 0,
    _capture_intent: i32 = 0,
    _num_streams: i32 = 0,
    _node_processing_details_offset: ?usize = null,
    _node_processing_details_last_offset: ?usize = null,
    _node_processing_details_cnt: usize = 0,
    _vendor_data_version: i32 = 0,
    _vendor_data: ?[]const u8 = null,
    pub fn init(src: []const u8) gremlin.Error!AndroidCameraFrameEventReader {
        const buf = gremlin.Reader.init(src);
        var res = AndroidCameraFrameEventReader{ .buf = buf };
        if (buf.buf.len == 0) {
            return res;
        }
        var offset: usize = 0;
        while (buf.hasNext(offset, 0)) {
            const tag = try buf.readTagAt(offset);
            offset += tag.size;
            switch (tag.number) {
                AndroidCameraFrameEventWire.SESSION_ID_WIRE => {
                    const result = try buf.readUInt64(offset);
                    offset += result.size;
                    res._session_id = result.value;
                },
                AndroidCameraFrameEventWire.CAMERA_ID_WIRE => {
                    const result = try buf.readUInt32(offset);
                    offset += result.size;
                    res._camera_id = result.value;
                },
                AndroidCameraFrameEventWire.FRAME_NUMBER_WIRE => {
                    const result = try buf.readInt64(offset);
                    offset += result.size;
                    res._frame_number = result.value;
                },
                AndroidCameraFrameEventWire.REQUEST_ID_WIRE => {
                    const result = try buf.readInt64(offset);
                    offset += result.size;
                    res._request_id = result.value;
                },
                AndroidCameraFrameEventWire.REQUEST_RECEIVED_NS_WIRE => {
                    const result = try buf.readInt64(offset);
                    offset += result.size;
                    res._request_received_ns = result.value;
                },
                AndroidCameraFrameEventWire.REQUEST_PROCESSING_STARTED_NS_WIRE => {
                    const result = try buf.readInt64(offset);
                    offset += result.size;
                    res._request_processing_started_ns = result.value;
                },
                AndroidCameraFrameEventWire.START_OF_EXPOSURE_NS_WIRE => {
                    const result = try buf.readInt64(offset);
                    offset += result.size;
                    res._start_of_exposure_ns = result.value;
                },
                AndroidCameraFrameEventWire.START_OF_FRAME_NS_WIRE => {
                    const result = try buf.readInt64(offset);
                    offset += result.size;
                    res._start_of_frame_ns = result.value;
                },
                AndroidCameraFrameEventWire.RESPONSES_ALL_SENT_NS_WIRE => {
                    const result = try buf.readInt64(offset);
                    offset += result.size;
                    res._responses_all_sent_ns = result.value;
                },
                AndroidCameraFrameEventWire.CAPTURE_RESULT_STATUS_WIRE => {
                    const result = try buf.readInt32(offset);
                    offset += result.size;
                    res._capture_result_status = @enumFromInt(result.value);
                },
                AndroidCameraFrameEventWire.SKIPPED_SENSOR_FRAMES_WIRE => {
                    const result = try buf.readInt32(offset);
                    offset += result.size;
                    res._skipped_sensor_frames = result.value;
                },
                AndroidCameraFrameEventWire.CAPTURE_INTENT_WIRE => {
                    const result = try buf.readInt32(offset);
                    offset += result.size;
                    res._capture_intent = result.value;
                },
                AndroidCameraFrameEventWire.NUM_STREAMS_WIRE => {
                    const result = try buf.readInt32(offset);
                    offset += result.size;
                    res._num_streams = result.value;
                },
                AndroidCameraFrameEventWire.NODE_PROCESSING_DETAILS_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    if (res._node_processing_details_offset == null) {
                        res._node_processing_details_offset = offset - result.size;
                    }
                    res._node_processing_details_last_offset = offset;
                    res._node_processing_details_cnt += 1;
                },
                AndroidCameraFrameEventWire.VENDOR_DATA_VERSION_WIRE => {
                    const result = try buf.readInt32(offset);
                    offset += result.size;
                    res._vendor_data_version = result.value;
                },
                AndroidCameraFrameEventWire.VENDOR_DATA_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    res._vendor_data = result.value;
                },
                else => {
                    offset = try buf.skipData(offset, tag.wire);
                },
            }
        }
        return res;
    }
    pub fn sourceBytes(self: *const @This()) []const u8 {
        return self.buf.buf;
    }
    pub inline fn getSessionId(self: *const AndroidCameraFrameEventReader) u64 {
        return self._session_id;
    }
    pub inline fn getCameraId(self: *const AndroidCameraFrameEventReader) u32 {
        return self._camera_id;
    }
    pub inline fn getFrameNumber(self: *const AndroidCameraFrameEventReader) i64 {
        return self._frame_number;
    }
    pub inline fn getRequestId(self: *const AndroidCameraFrameEventReader) i64 {
        return self._request_id;
    }
    pub inline fn getRequestReceivedNs(self: *const AndroidCameraFrameEventReader) i64 {
        return self._request_received_ns;
    }
    pub inline fn getRequestProcessingStartedNs(self: *const AndroidCameraFrameEventReader) i64 {
        return self._request_processing_started_ns;
    }
    pub inline fn getStartOfExposureNs(self: *const AndroidCameraFrameEventReader) i64 {
        return self._start_of_exposure_ns;
    }
    pub inline fn getStartOfFrameNs(self: *const AndroidCameraFrameEventReader) i64 {
        return self._start_of_frame_ns;
    }
    pub inline fn getResponsesAllSentNs(self: *const AndroidCameraFrameEventReader) i64 {
        return self._responses_all_sent_ns;
    }
    pub inline fn getCaptureResultStatus(self: *const AndroidCameraFrameEventReader) AndroidCameraFrameEvent.CaptureResultStatus {
        return self._capture_result_status;
    }
    pub inline fn getSkippedSensorFrames(self: *const AndroidCameraFrameEventReader) i32 {
        return self._skipped_sensor_frames;
    }
    pub inline fn getCaptureIntent(self: *const AndroidCameraFrameEventReader) i32 {
        return self._capture_intent;
    }
    pub inline fn getNumStreams(self: *const AndroidCameraFrameEventReader) i32 {
        return self._num_streams;
    }
    pub fn nodeProcessingDetailsCount(self: *const AndroidCameraFrameEventReader) usize {
        return self._node_processing_details_cnt;
    }
    pub fn nodeProcessingDetailsNext(self: *AndroidCameraFrameEventReader) ?AndroidCameraFrameEvent.CameraNodeProcessingDetailsReader {
        if (self._node_processing_details_offset == null) return null;
        const current_offset = self._node_processing_details_offset.?;
        const result = self.buf.readBytes(current_offset) catch return null;
        const msg = AndroidCameraFrameEvent.CameraNodeProcessingDetailsReader.init(result.value) catch return null;
        if (self._node_processing_details_last_offset != null and current_offset >= self._node_processing_details_last_offset.?) {
            self._node_processing_details_offset = null;
            return msg;
        }
        if (self._node_processing_details_last_offset == null) unreachable;
        var next_offset = current_offset + result.size;
        const max_offset = self._node_processing_details_last_offset.?;
        while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
            const tag = self.buf.readTagAt(next_offset) catch break;
            next_offset += tag.size;
            if (tag.number == AndroidCameraFrameEventWire.NODE_PROCESSING_DETAILS_WIRE) {
                self._node_processing_details_offset = next_offset;
                return msg;
            } else {
                next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
            }
        }
        self._node_processing_details_offset = null;
        return msg;
    }
    pub inline fn getVendorDataVersion(self: *const AndroidCameraFrameEventReader) i32 {
        return self._vendor_data_version;
    }
    pub inline fn getVendorData(self: *const AndroidCameraFrameEventReader) []const u8 {
        return self._vendor_data orelse &[_]u8{};
    }
};
const AndroidCameraSessionStatsWire = struct {
    const SESSION_ID_WIRE: gremlin.ProtoWireNumber = 1;
    const GRAPH_WIRE: gremlin.ProtoWireNumber = 2;
};
pub const AndroidCameraSessionStats = struct {
    // nested structs
    const CameraGraphWire = struct {
        const NODES_WIRE: gremlin.ProtoWireNumber = 1;
        const EDGES_WIRE: gremlin.ProtoWireNumber = 2;
    };
    pub const CameraGraph = struct {
        // nested structs
        const CameraNodeWire = struct {
            const NODE_ID_WIRE: gremlin.ProtoWireNumber = 1;
            const INPUT_IDS_WIRE: gremlin.ProtoWireNumber = 2;
            const OUTPUT_IDS_WIRE: gremlin.ProtoWireNumber = 3;
            const VENDOR_DATA_VERSION_WIRE: gremlin.ProtoWireNumber = 4;
            const VENDOR_DATA_WIRE: gremlin.ProtoWireNumber = 5;
        };
        pub const CameraNode = struct {
            // fields
            node_id: i64 = 0,
            input_ids: ?[]const i64 = null,
            output_ids: ?[]const i64 = null,
            vendor_data_version: i32 = 0,
            vendor_data: ?[]const u8 = null,
            pub fn calcProtobufSize(self: *const AndroidCameraSessionStats.CameraGraph.CameraNode) usize {
                var res: usize = 0;
                if (self.node_id != 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.NODE_ID_WIRE) + gremlin.sizes.sizeI64(self.node_id);
                }
                if (self.input_ids) |arr| {
                    if (arr.len == 0) {} else if (arr.len == 1) {
                        res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.INPUT_IDS_WIRE) + gremlin.sizes.sizeI64(arr[0]);
                    } else {
                        var packed_size: usize = 0;
                        for (arr) |v| {
                            packed_size += gremlin.sizes.sizeI64(v);
                        }
                        res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.INPUT_IDS_WIRE) + gremlin.sizes.sizeUsize(packed_size) + packed_size;
                    }
                }
                if (self.output_ids) |arr| {
                    if (arr.len == 0) {} else if (arr.len == 1) {
                        res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.OUTPUT_IDS_WIRE) + gremlin.sizes.sizeI64(arr[0]);
                    } else {
                        var packed_size: usize = 0;
                        for (arr) |v| {
                            packed_size += gremlin.sizes.sizeI64(v);
                        }
                        res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.OUTPUT_IDS_WIRE) + gremlin.sizes.sizeUsize(packed_size) + packed_size;
                    }
                }
                if (self.vendor_data_version != 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.VENDOR_DATA_VERSION_WIRE) + gremlin.sizes.sizeI32(self.vendor_data_version);
                }
                if (self.vendor_data) |v| {
                    if (v.len > 0) {
                        res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.VENDOR_DATA_WIRE) + gremlin.sizes.sizeUsize(v.len) + v.len;
                    }
                }
                return res;
            }
            pub fn encode(self: *const AndroidCameraSessionStats.CameraGraph.CameraNode, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
                const size = self.calcProtobufSize();
                if (size == 0) {
                    return &[_]u8{};
                }
                const buf = try allocator.alloc(u8, self.calcProtobufSize());
                var writer = gremlin.Writer.init(buf);
                self.encodeTo(&writer);
                return buf;
            }
            pub fn encodeTo(self: *const AndroidCameraSessionStats.CameraGraph.CameraNode, target: *gremlin.Writer) void {
                if (self.node_id != 0) {
                    target.appendInt64(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.NODE_ID_WIRE, self.node_id);
                }
                if (self.input_ids) |arr| {
                    if (arr.len == 0) {} else if (arr.len == 1) {
                        target.appendInt64(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.INPUT_IDS_WIRE, arr[0]);
                    } else {
                        var packed_size: usize = 0;
                        for (arr) |v| {
                            packed_size += gremlin.sizes.sizeI64(v);
                        }
                        target.appendBytesTag(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.INPUT_IDS_WIRE, packed_size);
                        for (arr) |v| {
                            target.appendInt64WithoutTag(v);
                        }
                    }
                }
                if (self.output_ids) |arr| {
                    if (arr.len == 0) {} else if (arr.len == 1) {
                        target.appendInt64(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.OUTPUT_IDS_WIRE, arr[0]);
                    } else {
                        var packed_size: usize = 0;
                        for (arr) |v| {
                            packed_size += gremlin.sizes.sizeI64(v);
                        }
                        target.appendBytesTag(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.OUTPUT_IDS_WIRE, packed_size);
                        for (arr) |v| {
                            target.appendInt64WithoutTag(v);
                        }
                    }
                }
                if (self.vendor_data_version != 0) {
                    target.appendInt32(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.VENDOR_DATA_VERSION_WIRE, self.vendor_data_version);
                }
                if (self.vendor_data) |v| {
                    if (v.len > 0) {
                        target.appendBytes(AndroidCameraSessionStats.CameraGraph.CameraNodeWire.VENDOR_DATA_WIRE, v);
                    }
                }
            }
        };
        pub const CameraNodeReader = struct {
            buf: gremlin.Reader,
            _node_id: i64 = 0,
            _input_ids_offset: ?usize = null,
            _input_ids_last_offset: ?usize = null,
            _input_ids_packed: bool = false,
            _output_ids_offset: ?usize = null,
            _output_ids_last_offset: ?usize = null,
            _output_ids_packed: bool = false,
            _vendor_data_version: i32 = 0,
            _vendor_data: ?[]const u8 = null,
            pub fn init(src: []const u8) gremlin.Error!AndroidCameraSessionStats.CameraGraph.CameraNodeReader {
                const buf = gremlin.Reader.init(src);
                var res = AndroidCameraSessionStats.CameraGraph.CameraNodeReader{ .buf = buf };
                if (buf.buf.len == 0) {
                    return res;
                }
                var offset: usize = 0;
                while (buf.hasNext(offset, 0)) {
                    const tag = try buf.readTagAt(offset);
                    offset += tag.size;
                    switch (tag.number) {
                        AndroidCameraSessionStats.CameraGraph.CameraNodeWire.NODE_ID_WIRE => {
                            const result = try buf.readInt64(offset);
                            offset += result.size;
                            res._node_id = result.value;
                        },
                        AndroidCameraSessionStats.CameraGraph.CameraNodeWire.INPUT_IDS_WIRE => {
                            if (res._input_ids_offset == null) {
                                res._input_ids_offset = offset;
                            }
                            if (tag.wire == gremlin.ProtoWireType.bytes) {
                                res._input_ids_packed = true;
                                const length_result = try buf.readVarInt(offset);
                                res._input_ids_offset = offset + length_result.size;
                                res._input_ids_last_offset = offset + length_result.size + @as(usize, @intCast(length_result.value));
                                offset = res._input_ids_last_offset.?;
                            } else {
                                const result = try buf.readInt64(offset);
                                offset += result.size;
                                res._input_ids_last_offset = offset;
                            }
                        },
                        AndroidCameraSessionStats.CameraGraph.CameraNodeWire.OUTPUT_IDS_WIRE => {
                            if (res._output_ids_offset == null) {
                                res._output_ids_offset = offset;
                            }
                            if (tag.wire == gremlin.ProtoWireType.bytes) {
                                res._output_ids_packed = true;
                                const length_result = try buf.readVarInt(offset);
                                res._output_ids_offset = offset + length_result.size;
                                res._output_ids_last_offset = offset + length_result.size + @as(usize, @intCast(length_result.value));
                                offset = res._output_ids_last_offset.?;
                            } else {
                                const result = try buf.readInt64(offset);
                                offset += result.size;
                                res._output_ids_last_offset = offset;
                            }
                        },
                        AndroidCameraSessionStats.CameraGraph.CameraNodeWire.VENDOR_DATA_VERSION_WIRE => {
                            const result = try buf.readInt32(offset);
                            offset += result.size;
                            res._vendor_data_version = result.value;
                        },
                        AndroidCameraSessionStats.CameraGraph.CameraNodeWire.VENDOR_DATA_WIRE => {
                            const result = try buf.readBytes(offset);
                            offset += result.size;
                            res._vendor_data = result.value;
                        },
                        else => {
                            offset = try buf.skipData(offset, tag.wire);
                        },
                    }
                }
                return res;
            }
            pub fn sourceBytes(self: *const @This()) []const u8 {
                return self.buf.buf;
            }
            pub inline fn getNodeId(self: *const AndroidCameraSessionStats.CameraGraph.CameraNodeReader) i64 {
                return self._node_id;
            }
            pub fn inputIdsNext(self: *AndroidCameraSessionStats.CameraGraph.CameraNodeReader) gremlin.Error!?i64 {
                if (self._input_ids_offset == null) return null;
                const current_offset = self._input_ids_offset.?;
                if (current_offset >= self._input_ids_last_offset.?) {
                    self._input_ids_offset = null;
                    return null;
                }
                if (self._input_ids_packed) {
                    const value_result = try self.buf.readInt64(current_offset);
                    self._input_ids_offset = current_offset + value_result.size;
                    if (self._input_ids_offset.? >= self._input_ids_last_offset.?) {
                        self._input_ids_offset = null;
                    }
                    return value_result.value;
                } else {
                    const value_result = try self.buf.readInt64(current_offset);
                    var next_offset = current_offset + value_result.size;
                    const max_offset = self._input_ids_last_offset.?;
                    // Search for the next occurrence of this field
                    while (next_offset < max_offset and self.buf.hasNext(next_offset, 0)) {
                        const next_tag = try self.buf.readTagAt(next_offset);
                        next_offset += next_tag.size;
                        if (next_tag.number == AndroidCameraSessionStats.CameraGraph.CameraNodeWire.INPUT_IDS_WIRE) {
                            self._input_ids_offset = next_offset;
                            return value_result.value;
                        } else {
                            next_offset = try self.buf.skipData(next_offset, next_tag.wire);
                        }
                    }
                    self._input_ids_offset = null;
                    return value_result.value;
                }
            }
            pub fn outputIdsNext(self: *AndroidCameraSessionStats.CameraGraph.CameraNodeReader) gremlin.Error!?i64 {
                if (self._output_ids_offset == null) return null;
                const current_offset = self._output_ids_offset.?;
                if (current_offset >= self._output_ids_last_offset.?) {
                    self._output_ids_offset = null;
                    return null;
                }
                if (self._output_ids_packed) {
                    const value_result = try self.buf.readInt64(current_offset);
                    self._output_ids_offset = current_offset + value_result.size;
                    if (self._output_ids_offset.? >= self._output_ids_last_offset.?) {
                        self._output_ids_offset = null;
                    }
                    return value_result.value;
                } else {
                    const value_result = try self.buf.readInt64(current_offset);
                    var next_offset = current_offset + value_result.size;
                    const max_offset = self._output_ids_last_offset.?;
                    // Search for the next occurrence of this field
                    while (next_offset < max_offset and self.buf.hasNext(next_offset, 0)) {
                        const next_tag = try self.buf.readTagAt(next_offset);
                        next_offset += next_tag.size;
                        if (next_tag.number == AndroidCameraSessionStats.CameraGraph.CameraNodeWire.OUTPUT_IDS_WIRE) {
                            self._output_ids_offset = next_offset;
                            return value_result.value;
                        } else {
                            next_offset = try self.buf.skipData(next_offset, next_tag.wire);
                        }
                    }
                    self._output_ids_offset = null;
                    return value_result.value;
                }
            }
            pub inline fn getVendorDataVersion(self: *const AndroidCameraSessionStats.CameraGraph.CameraNodeReader) i32 {
                return self._vendor_data_version;
            }
            pub inline fn getVendorData(self: *const AndroidCameraSessionStats.CameraGraph.CameraNodeReader) []const u8 {
                return self._vendor_data orelse &[_]u8{};
            }
        };
        const CameraEdgeWire = struct {
            const OUTPUT_NODE_ID_WIRE: gremlin.ProtoWireNumber = 1;
            const OUTPUT_ID_WIRE: gremlin.ProtoWireNumber = 2;
            const INPUT_NODE_ID_WIRE: gremlin.ProtoWireNumber = 3;
            const INPUT_ID_WIRE: gremlin.ProtoWireNumber = 4;
            const VENDOR_DATA_VERSION_WIRE: gremlin.ProtoWireNumber = 5;
            const VENDOR_DATA_WIRE: gremlin.ProtoWireNumber = 6;
        };
        pub const CameraEdge = struct {
            // fields
            output_node_id: i64 = 0,
            output_id: i64 = 0,
            input_node_id: i64 = 0,
            input_id: i64 = 0,
            vendor_data_version: i32 = 0,
            vendor_data: ?[]const u8 = null,
            pub fn calcProtobufSize(self: *const AndroidCameraSessionStats.CameraGraph.CameraEdge) usize {
                var res: usize = 0;
                if (self.output_node_id != 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.OUTPUT_NODE_ID_WIRE) + gremlin.sizes.sizeI64(self.output_node_id);
                }
                if (self.output_id != 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.OUTPUT_ID_WIRE) + gremlin.sizes.sizeI64(self.output_id);
                }
                if (self.input_node_id != 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.INPUT_NODE_ID_WIRE) + gremlin.sizes.sizeI64(self.input_node_id);
                }
                if (self.input_id != 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.INPUT_ID_WIRE) + gremlin.sizes.sizeI64(self.input_id);
                }
                if (self.vendor_data_version != 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.VENDOR_DATA_VERSION_WIRE) + gremlin.sizes.sizeI32(self.vendor_data_version);
                }
                if (self.vendor_data) |v| {
                    if (v.len > 0) {
                        res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.VENDOR_DATA_WIRE) + gremlin.sizes.sizeUsize(v.len) + v.len;
                    }
                }
                return res;
            }
            pub fn encode(self: *const AndroidCameraSessionStats.CameraGraph.CameraEdge, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
                const size = self.calcProtobufSize();
                if (size == 0) {
                    return &[_]u8{};
                }
                const buf = try allocator.alloc(u8, self.calcProtobufSize());
                var writer = gremlin.Writer.init(buf);
                self.encodeTo(&writer);
                return buf;
            }
            pub fn encodeTo(self: *const AndroidCameraSessionStats.CameraGraph.CameraEdge, target: *gremlin.Writer) void {
                if (self.output_node_id != 0) {
                    target.appendInt64(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.OUTPUT_NODE_ID_WIRE, self.output_node_id);
                }
                if (self.output_id != 0) {
                    target.appendInt64(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.OUTPUT_ID_WIRE, self.output_id);
                }
                if (self.input_node_id != 0) {
                    target.appendInt64(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.INPUT_NODE_ID_WIRE, self.input_node_id);
                }
                if (self.input_id != 0) {
                    target.appendInt64(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.INPUT_ID_WIRE, self.input_id);
                }
                if (self.vendor_data_version != 0) {
                    target.appendInt32(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.VENDOR_DATA_VERSION_WIRE, self.vendor_data_version);
                }
                if (self.vendor_data) |v| {
                    if (v.len > 0) {
                        target.appendBytes(AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.VENDOR_DATA_WIRE, v);
                    }
                }
            }
        };
        pub const CameraEdgeReader = struct {
            buf: gremlin.Reader,
            _output_node_id: i64 = 0,
            _output_id: i64 = 0,
            _input_node_id: i64 = 0,
            _input_id: i64 = 0,
            _vendor_data_version: i32 = 0,
            _vendor_data: ?[]const u8 = null,
            pub fn init(src: []const u8) gremlin.Error!AndroidCameraSessionStats.CameraGraph.CameraEdgeReader {
                const buf = gremlin.Reader.init(src);
                var res = AndroidCameraSessionStats.CameraGraph.CameraEdgeReader{ .buf = buf };
                if (buf.buf.len == 0) {
                    return res;
                }
                var offset: usize = 0;
                while (buf.hasNext(offset, 0)) {
                    const tag = try buf.readTagAt(offset);
                    offset += tag.size;
                    switch (tag.number) {
                        AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.OUTPUT_NODE_ID_WIRE => {
                            const result = try buf.readInt64(offset);
                            offset += result.size;
                            res._output_node_id = result.value;
                        },
                        AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.OUTPUT_ID_WIRE => {
                            const result = try buf.readInt64(offset);
                            offset += result.size;
                            res._output_id = result.value;
                        },
                        AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.INPUT_NODE_ID_WIRE => {
                            const result = try buf.readInt64(offset);
                            offset += result.size;
                            res._input_node_id = result.value;
                        },
                        AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.INPUT_ID_WIRE => {
                            const result = try buf.readInt64(offset);
                            offset += result.size;
                            res._input_id = result.value;
                        },
                        AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.VENDOR_DATA_VERSION_WIRE => {
                            const result = try buf.readInt32(offset);
                            offset += result.size;
                            res._vendor_data_version = result.value;
                        },
                        AndroidCameraSessionStats.CameraGraph.CameraEdgeWire.VENDOR_DATA_WIRE => {
                            const result = try buf.readBytes(offset);
                            offset += result.size;
                            res._vendor_data = result.value;
                        },
                        else => {
                            offset = try buf.skipData(offset, tag.wire);
                        },
                    }
                }
                return res;
            }
            pub fn sourceBytes(self: *const @This()) []const u8 {
                return self.buf.buf;
            }
            pub inline fn getOutputNodeId(self: *const AndroidCameraSessionStats.CameraGraph.CameraEdgeReader) i64 {
                return self._output_node_id;
            }
            pub inline fn getOutputId(self: *const AndroidCameraSessionStats.CameraGraph.CameraEdgeReader) i64 {
                return self._output_id;
            }
            pub inline fn getInputNodeId(self: *const AndroidCameraSessionStats.CameraGraph.CameraEdgeReader) i64 {
                return self._input_node_id;
            }
            pub inline fn getInputId(self: *const AndroidCameraSessionStats.CameraGraph.CameraEdgeReader) i64 {
                return self._input_id;
            }
            pub inline fn getVendorDataVersion(self: *const AndroidCameraSessionStats.CameraGraph.CameraEdgeReader) i32 {
                return self._vendor_data_version;
            }
            pub inline fn getVendorData(self: *const AndroidCameraSessionStats.CameraGraph.CameraEdgeReader) []const u8 {
                return self._vendor_data orelse &[_]u8{};
            }
        };
        // fields
        nodes: ?[]const ?AndroidCameraSessionStats.CameraGraph.CameraNode = null,
        edges: ?[]const ?AndroidCameraSessionStats.CameraGraph.CameraEdge = null,
        pub fn calcProtobufSize(self: *const AndroidCameraSessionStats.CameraGraph) usize {
            var res: usize = 0;
            if (self.nodes) |arr| {
                for (arr) |maybe_v| {
                    res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraphWire.NODES_WIRE);
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        res += gremlin.sizes.sizeUsize(size) + size;
                    } else {
                        res += gremlin.sizes.sizeUsize(0);
                    }
                }
            }
            if (self.edges) |arr| {
                for (arr) |maybe_v| {
                    res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStats.CameraGraphWire.EDGES_WIRE);
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        res += gremlin.sizes.sizeUsize(size) + size;
                    } else {
                        res += gremlin.sizes.sizeUsize(0);
                    }
                }
            }
            return res;
        }
        pub fn encode(self: *const AndroidCameraSessionStats.CameraGraph, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidCameraSessionStats.CameraGraph, target: *gremlin.Writer) void {
            if (self.nodes) |arr| {
                for (arr) |maybe_v| {
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        target.appendBytesTag(AndroidCameraSessionStats.CameraGraphWire.NODES_WIRE, size);
                        v.encodeTo(target);
                    } else {
                        target.appendBytesTag(AndroidCameraSessionStats.CameraGraphWire.NODES_WIRE, 0);
                    }
                }
            }
            if (self.edges) |arr| {
                for (arr) |maybe_v| {
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        target.appendBytesTag(AndroidCameraSessionStats.CameraGraphWire.EDGES_WIRE, size);
                        v.encodeTo(target);
                    } else {
                        target.appendBytesTag(AndroidCameraSessionStats.CameraGraphWire.EDGES_WIRE, 0);
                    }
                }
            }
        }
    };
    pub const CameraGraphReader = struct {
        buf: gremlin.Reader,
        _nodes_offset: ?usize = null,
        _nodes_last_offset: ?usize = null,
        _nodes_cnt: usize = 0,
        _edges_offset: ?usize = null,
        _edges_last_offset: ?usize = null,
        _edges_cnt: usize = 0,
        pub fn init(src: []const u8) gremlin.Error!AndroidCameraSessionStats.CameraGraphReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidCameraSessionStats.CameraGraphReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidCameraSessionStats.CameraGraphWire.NODES_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        if (res._nodes_offset == null) {
                            res._nodes_offset = offset - result.size;
                        }
                        res._nodes_last_offset = offset;
                        res._nodes_cnt += 1;
                    },
                    AndroidCameraSessionStats.CameraGraphWire.EDGES_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        if (res._edges_offset == null) {
                            res._edges_offset = offset - result.size;
                        }
                        res._edges_last_offset = offset;
                        res._edges_cnt += 1;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub fn nodesCount(self: *const AndroidCameraSessionStats.CameraGraphReader) usize {
            return self._nodes_cnt;
        }
        pub fn nodesNext(self: *AndroidCameraSessionStats.CameraGraphReader) ?AndroidCameraSessionStats.CameraGraph.CameraNodeReader {
            if (self._nodes_offset == null) return null;
            const current_offset = self._nodes_offset.?;
            const result = self.buf.readBytes(current_offset) catch return null;
            const msg = AndroidCameraSessionStats.CameraGraph.CameraNodeReader.init(result.value) catch return null;
            if (self._nodes_last_offset != null and current_offset >= self._nodes_last_offset.?) {
                self._nodes_offset = null;
                return msg;
            }
            if (self._nodes_last_offset == null) unreachable;
            var next_offset = current_offset + result.size;
            const max_offset = self._nodes_last_offset.?;
            while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
                const tag = self.buf.readTagAt(next_offset) catch break;
                next_offset += tag.size;
                if (tag.number == AndroidCameraSessionStats.CameraGraphWire.NODES_WIRE) {
                    self._nodes_offset = next_offset;
                    return msg;
                } else {
                    next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
                }
            }
            self._nodes_offset = null;
            return msg;
        }
        pub fn edgesCount(self: *const AndroidCameraSessionStats.CameraGraphReader) usize {
            return self._edges_cnt;
        }
        pub fn edgesNext(self: *AndroidCameraSessionStats.CameraGraphReader) ?AndroidCameraSessionStats.CameraGraph.CameraEdgeReader {
            if (self._edges_offset == null) return null;
            const current_offset = self._edges_offset.?;
            const result = self.buf.readBytes(current_offset) catch return null;
            const msg = AndroidCameraSessionStats.CameraGraph.CameraEdgeReader.init(result.value) catch return null;
            if (self._edges_last_offset != null and current_offset >= self._edges_last_offset.?) {
                self._edges_offset = null;
                return msg;
            }
            if (self._edges_last_offset == null) unreachable;
            var next_offset = current_offset + result.size;
            const max_offset = self._edges_last_offset.?;
            while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
                const tag = self.buf.readTagAt(next_offset) catch break;
                next_offset += tag.size;
                if (tag.number == AndroidCameraSessionStats.CameraGraphWire.EDGES_WIRE) {
                    self._edges_offset = next_offset;
                    return msg;
                } else {
                    next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
                }
            }
            self._edges_offset = null;
            return msg;
        }
    };
    // fields
    session_id: u64 = 0,
    graph: ?AndroidCameraSessionStats.CameraGraph = null,
    pub fn calcProtobufSize(self: *const AndroidCameraSessionStats) usize {
        var res: usize = 0;
        if (self.session_id != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStatsWire.SESSION_ID_WIRE) + gremlin.sizes.sizeU64(self.session_id);
        }
        if (self.graph) |v| {
            const size = v.calcProtobufSize();
            if (size > 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidCameraSessionStatsWire.GRAPH_WIRE) + gremlin.sizes.sizeUsize(size) + size;
            }
        }
        return res;
    }
    pub fn encode(self: *const AndroidCameraSessionStats, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
        const size = self.calcProtobufSize();
        if (size == 0) {
            return &[_]u8{};
        }
        const buf = try allocator.alloc(u8, self.calcProtobufSize());
        var writer = gremlin.Writer.init(buf);
        self.encodeTo(&writer);
        return buf;
    }
    pub fn encodeTo(self: *const AndroidCameraSessionStats, target: *gremlin.Writer) void {
        if (self.session_id != 0) {
            target.appendUint64(AndroidCameraSessionStatsWire.SESSION_ID_WIRE, self.session_id);
        }
        if (self.graph) |v| {
            const size = v.calcProtobufSize();
            if (size > 0) {
                target.appendBytesTag(AndroidCameraSessionStatsWire.GRAPH_WIRE, size);
                v.encodeTo(target);
            }
        }
    }
};
pub const AndroidCameraSessionStatsReader = struct {
    buf: gremlin.Reader,
    _session_id: u64 = 0,
    _graph_buf: ?[]const u8 = null,
    pub fn init(src: []const u8) gremlin.Error!AndroidCameraSessionStatsReader {
        const buf = gremlin.Reader.init(src);
        var res = AndroidCameraSessionStatsReader{ .buf = buf };
        if (buf.buf.len == 0) {
            return res;
        }
        var offset: usize = 0;
        while (buf.hasNext(offset, 0)) {
            const tag = try buf.readTagAt(offset);
            offset += tag.size;
            switch (tag.number) {
                AndroidCameraSessionStatsWire.SESSION_ID_WIRE => {
                    const result = try buf.readUInt64(offset);
                    offset += result.size;
                    res._session_id = result.value;
                },
                AndroidCameraSessionStatsWire.GRAPH_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    res._graph_buf = result.value;
                },
                else => {
                    offset = try buf.skipData(offset, tag.wire);
                },
            }
        }
        return res;
    }
    pub fn sourceBytes(self: *const @This()) []const u8 {
        return self.buf.buf;
    }
    pub inline fn getSessionId(self: *const AndroidCameraSessionStatsReader) u64 {
        return self._session_id;
    }
    pub fn getGraph(self: *const AndroidCameraSessionStatsReader) gremlin.Error!AndroidCameraSessionStats.CameraGraphReader {
        if (self._graph_buf) |buf| {
            return try AndroidCameraSessionStats.CameraGraphReader.init(buf);
        }
        return try AndroidCameraSessionStats.CameraGraphReader.init(&[_]u8{});
    }
};
