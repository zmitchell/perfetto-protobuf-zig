// =============================================================================
// DO NOT EDIT - This file is automatically generated by gremlin.zig
// =============================================================================
const std = @import("std");
const gremlin = @import("gremlin");
const process_metadata = @import("process_metadata.proto.zig");
// structs
const AndroidFrameTimelineMetricWire = struct {
    const TOTAL_FRAMES_WIRE: gremlin.ProtoWireNumber = 4;
    const MISSED_APP_FRAMES_WIRE: gremlin.ProtoWireNumber = 5;
    const DROPPED_FRAMES_WIRE: gremlin.ProtoWireNumber = 6;
    const PROCESS_WIRE: gremlin.ProtoWireNumber = 2;
    const JANK_TYPES_WIRE: gremlin.ProtoWireNumber = 7;
};
pub const AndroidFrameTimelineMetric = struct {
    // nested structs
    const JankTypeMetricWire = struct {
        const TYPE_WIRE: gremlin.ProtoWireNumber = 1;
        const TOTAL_COUNT_WIRE: gremlin.ProtoWireNumber = 2;
        const PRESENT_UNSPECIFIED_COUNT_WIRE: gremlin.ProtoWireNumber = 3;
        const PRESENT_ON_TIME_COUNT_WIRE: gremlin.ProtoWireNumber = 4;
        const PRESENT_LATE_COUNT_WIRE: gremlin.ProtoWireNumber = 5;
        const PRESENT_EARLY_COUNT_WIRE: gremlin.ProtoWireNumber = 6;
        const PRESENT_DROPPED_COUNT_WIRE: gremlin.ProtoWireNumber = 7;
        const PRESENT_UNKNOWN_COUNT_WIRE: gremlin.ProtoWireNumber = 8;
    };
    pub const JankTypeMetric = struct {
        // fields
        type: ?[]const u8 = null,
        total_count: i64 = 0,
        present_unspecified_count: i64 = 0,
        present_on_time_count: i64 = 0,
        present_late_count: i64 = 0,
        present_early_count: i64 = 0,
        present_dropped_count: i64 = 0,
        present_unknown_count: i64 = 0,
        pub fn calcProtobufSize(self: *const AndroidFrameTimelineMetric.JankTypeMetric) usize {
            var res: usize = 0;
            if (self.type) |v| {
                if (v.len > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.JankTypeMetricWire.TYPE_WIRE) + gremlin.sizes.sizeUsize(v.len) + v.len;
                }
            }
            if (self.total_count != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.JankTypeMetricWire.TOTAL_COUNT_WIRE) + gremlin.sizes.sizeI64(self.total_count);
            }
            if (self.present_unspecified_count != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_UNSPECIFIED_COUNT_WIRE) + gremlin.sizes.sizeI64(self.present_unspecified_count);
            }
            if (self.present_on_time_count != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_ON_TIME_COUNT_WIRE) + gremlin.sizes.sizeI64(self.present_on_time_count);
            }
            if (self.present_late_count != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_LATE_COUNT_WIRE) + gremlin.sizes.sizeI64(self.present_late_count);
            }
            if (self.present_early_count != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_EARLY_COUNT_WIRE) + gremlin.sizes.sizeI64(self.present_early_count);
            }
            if (self.present_dropped_count != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_DROPPED_COUNT_WIRE) + gremlin.sizes.sizeI64(self.present_dropped_count);
            }
            if (self.present_unknown_count != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_UNKNOWN_COUNT_WIRE) + gremlin.sizes.sizeI64(self.present_unknown_count);
            }
            return res;
        }
        pub fn encode(self: *const AndroidFrameTimelineMetric.JankTypeMetric, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidFrameTimelineMetric.JankTypeMetric, target: *gremlin.Writer) void {
            if (self.type) |v| {
                if (v.len > 0) {
                    target.appendBytes(AndroidFrameTimelineMetric.JankTypeMetricWire.TYPE_WIRE, v);
                }
            }
            if (self.total_count != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.JankTypeMetricWire.TOTAL_COUNT_WIRE, self.total_count);
            }
            if (self.present_unspecified_count != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_UNSPECIFIED_COUNT_WIRE, self.present_unspecified_count);
            }
            if (self.present_on_time_count != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_ON_TIME_COUNT_WIRE, self.present_on_time_count);
            }
            if (self.present_late_count != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_LATE_COUNT_WIRE, self.present_late_count);
            }
            if (self.present_early_count != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_EARLY_COUNT_WIRE, self.present_early_count);
            }
            if (self.present_dropped_count != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_DROPPED_COUNT_WIRE, self.present_dropped_count);
            }
            if (self.present_unknown_count != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_UNKNOWN_COUNT_WIRE, self.present_unknown_count);
            }
        }
    };
    pub const JankTypeMetricReader = struct {
        buf: gremlin.Reader,
        _type: ?[]const u8 = null,
        _total_count: i64 = 0,
        _present_unspecified_count: i64 = 0,
        _present_on_time_count: i64 = 0,
        _present_late_count: i64 = 0,
        _present_early_count: i64 = 0,
        _present_dropped_count: i64 = 0,
        _present_unknown_count: i64 = 0,
        pub fn init(src: []const u8) gremlin.Error!AndroidFrameTimelineMetric.JankTypeMetricReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidFrameTimelineMetric.JankTypeMetricReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidFrameTimelineMetric.JankTypeMetricWire.TYPE_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._type = result.value;
                    },
                    AndroidFrameTimelineMetric.JankTypeMetricWire.TOTAL_COUNT_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._total_count = result.value;
                    },
                    AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_UNSPECIFIED_COUNT_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._present_unspecified_count = result.value;
                    },
                    AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_ON_TIME_COUNT_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._present_on_time_count = result.value;
                    },
                    AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_LATE_COUNT_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._present_late_count = result.value;
                    },
                    AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_EARLY_COUNT_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._present_early_count = result.value;
                    },
                    AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_DROPPED_COUNT_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._present_dropped_count = result.value;
                    },
                    AndroidFrameTimelineMetric.JankTypeMetricWire.PRESENT_UNKNOWN_COUNT_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._present_unknown_count = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getType(self: *const AndroidFrameTimelineMetric.JankTypeMetricReader) []const u8 {
            return self._type orelse &[_]u8{};
        }
        pub inline fn getTotalCount(self: *const AndroidFrameTimelineMetric.JankTypeMetricReader) i64 {
            return self._total_count;
        }
        pub inline fn getPresentUnspecifiedCount(self: *const AndroidFrameTimelineMetric.JankTypeMetricReader) i64 {
            return self._present_unspecified_count;
        }
        pub inline fn getPresentOnTimeCount(self: *const AndroidFrameTimelineMetric.JankTypeMetricReader) i64 {
            return self._present_on_time_count;
        }
        pub inline fn getPresentLateCount(self: *const AndroidFrameTimelineMetric.JankTypeMetricReader) i64 {
            return self._present_late_count;
        }
        pub inline fn getPresentEarlyCount(self: *const AndroidFrameTimelineMetric.JankTypeMetricReader) i64 {
            return self._present_early_count;
        }
        pub inline fn getPresentDroppedCount(self: *const AndroidFrameTimelineMetric.JankTypeMetricReader) i64 {
            return self._present_dropped_count;
        }
        pub inline fn getPresentUnknownCount(self: *const AndroidFrameTimelineMetric.JankTypeMetricReader) i64 {
            return self._present_unknown_count;
        }
    };
    const ProcessBreakdownWire = struct {
        const PROCESS_WIRE: gremlin.ProtoWireNumber = 3;
        const TOTAL_FRAMES_WIRE: gremlin.ProtoWireNumber = 4;
        const MISSED_FRAMES_WIRE: gremlin.ProtoWireNumber = 5;
        const MISSED_APP_FRAMES_WIRE: gremlin.ProtoWireNumber = 6;
        const MISSED_SF_FRAMES_WIRE: gremlin.ProtoWireNumber = 7;
        const FRAME_DUR_MAX_WIRE: gremlin.ProtoWireNumber = 8;
        const FRAME_DUR_AVG_WIRE: gremlin.ProtoWireNumber = 9;
        const FRAME_DUR_P50_WIRE: gremlin.ProtoWireNumber = 10;
        const FRAME_DUR_P90_WIRE: gremlin.ProtoWireNumber = 11;
        const FRAME_DUR_P95_WIRE: gremlin.ProtoWireNumber = 12;
        const FRAME_DUR_P99_WIRE: gremlin.ProtoWireNumber = 13;
        const FRAME_DUR_MS_P50_WIRE: gremlin.ProtoWireNumber = 14;
        const FRAME_DUR_MS_P90_WIRE: gremlin.ProtoWireNumber = 15;
        const FRAME_DUR_MS_P95_WIRE: gremlin.ProtoWireNumber = 16;
        const FRAME_DUR_MS_P99_WIRE: gremlin.ProtoWireNumber = 17;
        const DROPPED_FRAMES_WIRE: gremlin.ProtoWireNumber = 18;
        const JANK_TYPES_WIRE: gremlin.ProtoWireNumber = 19;
    };
    pub const ProcessBreakdown = struct {
        // fields
        process: ?process_metadata.AndroidProcessMetadata = null,
        total_frames: i64 = 0,
        missed_frames: i64 = 0,
        missed_app_frames: i64 = 0,
        missed_sf_frames: i64 = 0,
        frame_dur_max: i64 = 0,
        frame_dur_avg: i64 = 0,
        frame_dur_p50: i64 = 0,
        frame_dur_p90: i64 = 0,
        frame_dur_p95: i64 = 0,
        frame_dur_p99: i64 = 0,
        frame_dur_ms_p50: f64 = 0.0,
        frame_dur_ms_p90: f64 = 0.0,
        frame_dur_ms_p95: f64 = 0.0,
        frame_dur_ms_p99: f64 = 0.0,
        dropped_frames: i64 = 0,
        jank_types: ?[]const ?AndroidFrameTimelineMetric.JankTypeMetric = null,
        pub fn calcProtobufSize(self: *const AndroidFrameTimelineMetric.ProcessBreakdown) usize {
            var res: usize = 0;
            if (self.process) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.PROCESS_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            if (self.total_frames != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.TOTAL_FRAMES_WIRE) + gremlin.sizes.sizeI64(self.total_frames);
            }
            if (self.missed_frames != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.MISSED_FRAMES_WIRE) + gremlin.sizes.sizeI64(self.missed_frames);
            }
            if (self.missed_app_frames != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.MISSED_APP_FRAMES_WIRE) + gremlin.sizes.sizeI64(self.missed_app_frames);
            }
            if (self.missed_sf_frames != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.MISSED_SF_FRAMES_WIRE) + gremlin.sizes.sizeI64(self.missed_sf_frames);
            }
            if (self.frame_dur_max != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MAX_WIRE) + gremlin.sizes.sizeI64(self.frame_dur_max);
            }
            if (self.frame_dur_avg != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_AVG_WIRE) + gremlin.sizes.sizeI64(self.frame_dur_avg);
            }
            if (self.frame_dur_p50 != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P50_WIRE) + gremlin.sizes.sizeI64(self.frame_dur_p50);
            }
            if (self.frame_dur_p90 != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P90_WIRE) + gremlin.sizes.sizeI64(self.frame_dur_p90);
            }
            if (self.frame_dur_p95 != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P95_WIRE) + gremlin.sizes.sizeI64(self.frame_dur_p95);
            }
            if (self.frame_dur_p99 != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P99_WIRE) + gremlin.sizes.sizeI64(self.frame_dur_p99);
            }
            if (self.frame_dur_ms_p50 != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P50_WIRE) + gremlin.sizes.sizeDouble(self.frame_dur_ms_p50);
            }
            if (self.frame_dur_ms_p90 != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P90_WIRE) + gremlin.sizes.sizeDouble(self.frame_dur_ms_p90);
            }
            if (self.frame_dur_ms_p95 != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P95_WIRE) + gremlin.sizes.sizeDouble(self.frame_dur_ms_p95);
            }
            if (self.frame_dur_ms_p99 != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P99_WIRE) + gremlin.sizes.sizeDouble(self.frame_dur_ms_p99);
            }
            if (self.dropped_frames != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.DROPPED_FRAMES_WIRE) + gremlin.sizes.sizeI64(self.dropped_frames);
            }
            if (self.jank_types) |arr| {
                for (arr) |maybe_v| {
                    res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetric.ProcessBreakdownWire.JANK_TYPES_WIRE);
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        res += gremlin.sizes.sizeUsize(size) + size;
                    } else {
                        res += gremlin.sizes.sizeUsize(0);
                    }
                }
            }
            return res;
        }
        pub fn encode(self: *const AndroidFrameTimelineMetric.ProcessBreakdown, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidFrameTimelineMetric.ProcessBreakdown, target: *gremlin.Writer) void {
            if (self.process) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidFrameTimelineMetric.ProcessBreakdownWire.PROCESS_WIRE, size);
                    v.encodeTo(target);
                }
            }
            if (self.total_frames != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.TOTAL_FRAMES_WIRE, self.total_frames);
            }
            if (self.missed_frames != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.MISSED_FRAMES_WIRE, self.missed_frames);
            }
            if (self.missed_app_frames != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.MISSED_APP_FRAMES_WIRE, self.missed_app_frames);
            }
            if (self.missed_sf_frames != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.MISSED_SF_FRAMES_WIRE, self.missed_sf_frames);
            }
            if (self.frame_dur_max != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MAX_WIRE, self.frame_dur_max);
            }
            if (self.frame_dur_avg != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_AVG_WIRE, self.frame_dur_avg);
            }
            if (self.frame_dur_p50 != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P50_WIRE, self.frame_dur_p50);
            }
            if (self.frame_dur_p90 != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P90_WIRE, self.frame_dur_p90);
            }
            if (self.frame_dur_p95 != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P95_WIRE, self.frame_dur_p95);
            }
            if (self.frame_dur_p99 != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P99_WIRE, self.frame_dur_p99);
            }
            if (self.frame_dur_ms_p50 != 0.0) {
                target.appendFloat64(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P50_WIRE, self.frame_dur_ms_p50);
            }
            if (self.frame_dur_ms_p90 != 0.0) {
                target.appendFloat64(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P90_WIRE, self.frame_dur_ms_p90);
            }
            if (self.frame_dur_ms_p95 != 0.0) {
                target.appendFloat64(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P95_WIRE, self.frame_dur_ms_p95);
            }
            if (self.frame_dur_ms_p99 != 0.0) {
                target.appendFloat64(AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P99_WIRE, self.frame_dur_ms_p99);
            }
            if (self.dropped_frames != 0) {
                target.appendInt64(AndroidFrameTimelineMetric.ProcessBreakdownWire.DROPPED_FRAMES_WIRE, self.dropped_frames);
            }
            if (self.jank_types) |arr| {
                for (arr) |maybe_v| {
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        target.appendBytesTag(AndroidFrameTimelineMetric.ProcessBreakdownWire.JANK_TYPES_WIRE, size);
                        v.encodeTo(target);
                    } else {
                        target.appendBytesTag(AndroidFrameTimelineMetric.ProcessBreakdownWire.JANK_TYPES_WIRE, 0);
                    }
                }
            }
        }
    };
    pub const ProcessBreakdownReader = struct {
        buf: gremlin.Reader,
        _process_buf: ?[]const u8 = null,
        _total_frames: i64 = 0,
        _missed_frames: i64 = 0,
        _missed_app_frames: i64 = 0,
        _missed_sf_frames: i64 = 0,
        _frame_dur_max: i64 = 0,
        _frame_dur_avg: i64 = 0,
        _frame_dur_p50: i64 = 0,
        _frame_dur_p90: i64 = 0,
        _frame_dur_p95: i64 = 0,
        _frame_dur_p99: i64 = 0,
        _frame_dur_ms_p50: f64 = 0.0,
        _frame_dur_ms_p90: f64 = 0.0,
        _frame_dur_ms_p95: f64 = 0.0,
        _frame_dur_ms_p99: f64 = 0.0,
        _dropped_frames: i64 = 0,
        _jank_types_offset: ?usize = null,
        _jank_types_last_offset: ?usize = null,
        _jank_types_cnt: usize = 0,
        pub fn init(src: []const u8) gremlin.Error!AndroidFrameTimelineMetric.ProcessBreakdownReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidFrameTimelineMetric.ProcessBreakdownReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.PROCESS_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._process_buf = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.TOTAL_FRAMES_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._total_frames = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.MISSED_FRAMES_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._missed_frames = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.MISSED_APP_FRAMES_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._missed_app_frames = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.MISSED_SF_FRAMES_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._missed_sf_frames = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MAX_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._frame_dur_max = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_AVG_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._frame_dur_avg = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P50_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._frame_dur_p50 = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P90_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._frame_dur_p90 = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P95_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._frame_dur_p95 = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_P99_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._frame_dur_p99 = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P50_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._frame_dur_ms_p50 = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P90_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._frame_dur_ms_p90 = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P95_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._frame_dur_ms_p95 = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.FRAME_DUR_MS_P99_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._frame_dur_ms_p99 = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.DROPPED_FRAMES_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._dropped_frames = result.value;
                    },
                    AndroidFrameTimelineMetric.ProcessBreakdownWire.JANK_TYPES_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        if (res._jank_types_offset == null) {
                            res._jank_types_offset = offset - result.size;
                        }
                        res._jank_types_last_offset = offset;
                        res._jank_types_cnt += 1;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub fn getProcess(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) gremlin.Error!process_metadata.AndroidProcessMetadataReader {
            if (self._process_buf) |buf| {
                return try process_metadata.AndroidProcessMetadataReader.init(buf);
            }
            return try process_metadata.AndroidProcessMetadataReader.init(&[_]u8{});
        }
        pub inline fn getTotalFrames(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._total_frames;
        }
        pub inline fn getMissedFrames(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._missed_frames;
        }
        pub inline fn getMissedAppFrames(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._missed_app_frames;
        }
        pub inline fn getMissedSfFrames(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._missed_sf_frames;
        }
        pub inline fn getFrameDurMax(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._frame_dur_max;
        }
        pub inline fn getFrameDurAvg(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._frame_dur_avg;
        }
        pub inline fn getFrameDurP50(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._frame_dur_p50;
        }
        pub inline fn getFrameDurP90(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._frame_dur_p90;
        }
        pub inline fn getFrameDurP95(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._frame_dur_p95;
        }
        pub inline fn getFrameDurP99(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._frame_dur_p99;
        }
        pub inline fn getFrameDurMsP50(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) f64 {
            return self._frame_dur_ms_p50;
        }
        pub inline fn getFrameDurMsP90(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) f64 {
            return self._frame_dur_ms_p90;
        }
        pub inline fn getFrameDurMsP95(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) f64 {
            return self._frame_dur_ms_p95;
        }
        pub inline fn getFrameDurMsP99(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) f64 {
            return self._frame_dur_ms_p99;
        }
        pub inline fn getDroppedFrames(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) i64 {
            return self._dropped_frames;
        }
        pub fn jankTypesCount(self: *const AndroidFrameTimelineMetric.ProcessBreakdownReader) usize {
            return self._jank_types_cnt;
        }
        pub fn jankTypesNext(self: *AndroidFrameTimelineMetric.ProcessBreakdownReader) ?AndroidFrameTimelineMetric.JankTypeMetricReader {
            if (self._jank_types_offset == null) return null;
            const current_offset = self._jank_types_offset.?;
            const result = self.buf.readBytes(current_offset) catch return null;
            const msg = AndroidFrameTimelineMetric.JankTypeMetricReader.init(result.value) catch return null;
            if (self._jank_types_last_offset != null and current_offset >= self._jank_types_last_offset.?) {
                self._jank_types_offset = null;
                return msg;
            }
            if (self._jank_types_last_offset == null) unreachable;
            var next_offset = current_offset + result.size;
            const max_offset = self._jank_types_last_offset.?;
            while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
                const tag = self.buf.readTagAt(next_offset) catch break;
                next_offset += tag.size;
                if (tag.number == AndroidFrameTimelineMetric.ProcessBreakdownWire.JANK_TYPES_WIRE) {
                    self._jank_types_offset = next_offset;
                    return msg;
                } else {
                    next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
                }
            }
            self._jank_types_offset = null;
            return msg;
        }
    };
    // fields
    total_frames: i64 = 0,
    missed_app_frames: i64 = 0,
    dropped_frames: i64 = 0,
    process: ?[]const ?AndroidFrameTimelineMetric.ProcessBreakdown = null,
    jank_types: ?[]const ?AndroidFrameTimelineMetric.JankTypeMetric = null,
    pub fn calcProtobufSize(self: *const AndroidFrameTimelineMetric) usize {
        var res: usize = 0;
        if (self.total_frames != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetricWire.TOTAL_FRAMES_WIRE) + gremlin.sizes.sizeI64(self.total_frames);
        }
        if (self.missed_app_frames != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetricWire.MISSED_APP_FRAMES_WIRE) + gremlin.sizes.sizeI64(self.missed_app_frames);
        }
        if (self.dropped_frames != 0) {
            res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetricWire.DROPPED_FRAMES_WIRE) + gremlin.sizes.sizeI64(self.dropped_frames);
        }
        if (self.process) |arr| {
            for (arr) |maybe_v| {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetricWire.PROCESS_WIRE);
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    res += gremlin.sizes.sizeUsize(size) + size;
                } else {
                    res += gremlin.sizes.sizeUsize(0);
                }
            }
        }
        if (self.jank_types) |arr| {
            for (arr) |maybe_v| {
                res += gremlin.sizes.sizeWireNumber(AndroidFrameTimelineMetricWire.JANK_TYPES_WIRE);
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    res += gremlin.sizes.sizeUsize(size) + size;
                } else {
                    res += gremlin.sizes.sizeUsize(0);
                }
            }
        }
        return res;
    }
    pub fn encode(self: *const AndroidFrameTimelineMetric, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
        const size = self.calcProtobufSize();
        if (size == 0) {
            return &[_]u8{};
        }
        const buf = try allocator.alloc(u8, self.calcProtobufSize());
        var writer = gremlin.Writer.init(buf);
        self.encodeTo(&writer);
        return buf;
    }
    pub fn encodeTo(self: *const AndroidFrameTimelineMetric, target: *gremlin.Writer) void {
        if (self.total_frames != 0) {
            target.appendInt64(AndroidFrameTimelineMetricWire.TOTAL_FRAMES_WIRE, self.total_frames);
        }
        if (self.missed_app_frames != 0) {
            target.appendInt64(AndroidFrameTimelineMetricWire.MISSED_APP_FRAMES_WIRE, self.missed_app_frames);
        }
        if (self.dropped_frames != 0) {
            target.appendInt64(AndroidFrameTimelineMetricWire.DROPPED_FRAMES_WIRE, self.dropped_frames);
        }
        if (self.process) |arr| {
            for (arr) |maybe_v| {
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    target.appendBytesTag(AndroidFrameTimelineMetricWire.PROCESS_WIRE, size);
                    v.encodeTo(target);
                } else {
                    target.appendBytesTag(AndroidFrameTimelineMetricWire.PROCESS_WIRE, 0);
                }
            }
        }
        if (self.jank_types) |arr| {
            for (arr) |maybe_v| {
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    target.appendBytesTag(AndroidFrameTimelineMetricWire.JANK_TYPES_WIRE, size);
                    v.encodeTo(target);
                } else {
                    target.appendBytesTag(AndroidFrameTimelineMetricWire.JANK_TYPES_WIRE, 0);
                }
            }
        }
    }
};
pub const AndroidFrameTimelineMetricReader = struct {
    buf: gremlin.Reader,
    _total_frames: i64 = 0,
    _missed_app_frames: i64 = 0,
    _dropped_frames: i64 = 0,
    _process_offset: ?usize = null,
    _process_last_offset: ?usize = null,
    _process_cnt: usize = 0,
    _jank_types_offset: ?usize = null,
    _jank_types_last_offset: ?usize = null,
    _jank_types_cnt: usize = 0,
    pub fn init(src: []const u8) gremlin.Error!AndroidFrameTimelineMetricReader {
        const buf = gremlin.Reader.init(src);
        var res = AndroidFrameTimelineMetricReader{ .buf = buf };
        if (buf.buf.len == 0) {
            return res;
        }
        var offset: usize = 0;
        while (buf.hasNext(offset, 0)) {
            const tag = try buf.readTagAt(offset);
            offset += tag.size;
            switch (tag.number) {
                AndroidFrameTimelineMetricWire.TOTAL_FRAMES_WIRE => {
                    const result = try buf.readInt64(offset);
                    offset += result.size;
                    res._total_frames = result.value;
                },
                AndroidFrameTimelineMetricWire.MISSED_APP_FRAMES_WIRE => {
                    const result = try buf.readInt64(offset);
                    offset += result.size;
                    res._missed_app_frames = result.value;
                },
                AndroidFrameTimelineMetricWire.DROPPED_FRAMES_WIRE => {
                    const result = try buf.readInt64(offset);
                    offset += result.size;
                    res._dropped_frames = result.value;
                },
                AndroidFrameTimelineMetricWire.PROCESS_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    if (res._process_offset == null) {
                        res._process_offset = offset - result.size;
                    }
                    res._process_last_offset = offset;
                    res._process_cnt += 1;
                },
                AndroidFrameTimelineMetricWire.JANK_TYPES_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    if (res._jank_types_offset == null) {
                        res._jank_types_offset = offset - result.size;
                    }
                    res._jank_types_last_offset = offset;
                    res._jank_types_cnt += 1;
                },
                else => {
                    offset = try buf.skipData(offset, tag.wire);
                },
            }
        }
        return res;
    }
    pub fn sourceBytes(self: *const @This()) []const u8 {
        return self.buf.buf;
    }
    pub inline fn getTotalFrames(self: *const AndroidFrameTimelineMetricReader) i64 {
        return self._total_frames;
    }
    pub inline fn getMissedAppFrames(self: *const AndroidFrameTimelineMetricReader) i64 {
        return self._missed_app_frames;
    }
    pub inline fn getDroppedFrames(self: *const AndroidFrameTimelineMetricReader) i64 {
        return self._dropped_frames;
    }
    pub fn processCount(self: *const AndroidFrameTimelineMetricReader) usize {
        return self._process_cnt;
    }
    pub fn processNext(self: *AndroidFrameTimelineMetricReader) ?AndroidFrameTimelineMetric.ProcessBreakdownReader {
        if (self._process_offset == null) return null;
        const current_offset = self._process_offset.?;
        const result = self.buf.readBytes(current_offset) catch return null;
        const msg = AndroidFrameTimelineMetric.ProcessBreakdownReader.init(result.value) catch return null;
        if (self._process_last_offset != null and current_offset >= self._process_last_offset.?) {
            self._process_offset = null;
            return msg;
        }
        if (self._process_last_offset == null) unreachable;
        var next_offset = current_offset + result.size;
        const max_offset = self._process_last_offset.?;
        while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
            const tag = self.buf.readTagAt(next_offset) catch break;
            next_offset += tag.size;
            if (tag.number == AndroidFrameTimelineMetricWire.PROCESS_WIRE) {
                self._process_offset = next_offset;
                return msg;
            } else {
                next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
            }
        }
        self._process_offset = null;
        return msg;
    }
    pub fn jankTypesCount(self: *const AndroidFrameTimelineMetricReader) usize {
        return self._jank_types_cnt;
    }
    pub fn jankTypesNext(self: *AndroidFrameTimelineMetricReader) ?AndroidFrameTimelineMetric.JankTypeMetricReader {
        if (self._jank_types_offset == null) return null;
        const current_offset = self._jank_types_offset.?;
        const result = self.buf.readBytes(current_offset) catch return null;
        const msg = AndroidFrameTimelineMetric.JankTypeMetricReader.init(result.value) catch return null;
        if (self._jank_types_last_offset != null and current_offset >= self._jank_types_last_offset.?) {
            self._jank_types_offset = null;
            return msg;
        }
        if (self._jank_types_last_offset == null) unreachable;
        var next_offset = current_offset + result.size;
        const max_offset = self._jank_types_last_offset.?;
        while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
            const tag = self.buf.readTagAt(next_offset) catch break;
            next_offset += tag.size;
            if (tag.number == AndroidFrameTimelineMetricWire.JANK_TYPES_WIRE) {
                self._jank_types_offset = next_offset;
                return msg;
            } else {
                next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
            }
        }
        self._jank_types_offset = null;
        return msg;
    }
};
