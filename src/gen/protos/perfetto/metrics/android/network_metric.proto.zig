// =============================================================================
// DO NOT EDIT - This file is automatically generated by gremlin.zig
// =============================================================================
const std = @import("std");
const gremlin = @import("gremlin");
// structs
const AndroidNetworkMetricWire = struct {
    const NET_DEVICES_WIRE: gremlin.ProtoWireNumber = 1;
    const NET_RX_ACTION_WIRE: gremlin.ProtoWireNumber = 2;
    const RETRANSMISSION_RATE_WIRE: gremlin.ProtoWireNumber = 3;
    const KFREE_SKB_RATE_WIRE: gremlin.ProtoWireNumber = 4;
    const NET_TX_ACTION_WIRE: gremlin.ProtoWireNumber = 5;
    const IPI_ACTION_WIRE: gremlin.ProtoWireNumber = 6;
};
pub const AndroidNetworkMetric = struct {
    // nested structs
    const PacketStatisticWire = struct {
        const PACKETS_WIRE: gremlin.ProtoWireNumber = 1;
        const BYTES_WIRE: gremlin.ProtoWireNumber = 2;
        const FIRST_PACKET_TIMESTAMP_NS_WIRE: gremlin.ProtoWireNumber = 3;
        const LAST_PACKET_TIMESTAMP_NS_WIRE: gremlin.ProtoWireNumber = 4;
        const INTERVAL_NS_WIRE: gremlin.ProtoWireNumber = 5;
        const DATA_RATE_KBPS_WIRE: gremlin.ProtoWireNumber = 6;
    };
    pub const PacketStatistic = struct {
        // fields
        packets: i64 = 0,
        bytes: i64 = 0,
        first_packet_timestamp_ns: i64 = 0,
        last_packet_timestamp_ns: i64 = 0,
        interval_ns: i64 = 0,
        data_rate_kbps: f64 = 0.0,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.PacketStatistic) usize {
            var res: usize = 0;
            if (self.packets != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.PacketStatisticWire.PACKETS_WIRE) + gremlin.sizes.sizeI64(self.packets);
            }
            if (self.bytes != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.PacketStatisticWire.BYTES_WIRE) + gremlin.sizes.sizeI64(self.bytes);
            }
            if (self.first_packet_timestamp_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.PacketStatisticWire.FIRST_PACKET_TIMESTAMP_NS_WIRE) + gremlin.sizes.sizeI64(self.first_packet_timestamp_ns);
            }
            if (self.last_packet_timestamp_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.PacketStatisticWire.LAST_PACKET_TIMESTAMP_NS_WIRE) + gremlin.sizes.sizeI64(self.last_packet_timestamp_ns);
            }
            if (self.interval_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.PacketStatisticWire.INTERVAL_NS_WIRE) + gremlin.sizes.sizeI64(self.interval_ns);
            }
            if (self.data_rate_kbps != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.PacketStatisticWire.DATA_RATE_KBPS_WIRE) + gremlin.sizes.sizeDouble(self.data_rate_kbps);
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.PacketStatistic, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.PacketStatistic, target: *gremlin.Writer) void {
            if (self.packets != 0) {
                target.appendInt64(AndroidNetworkMetric.PacketStatisticWire.PACKETS_WIRE, self.packets);
            }
            if (self.bytes != 0) {
                target.appendInt64(AndroidNetworkMetric.PacketStatisticWire.BYTES_WIRE, self.bytes);
            }
            if (self.first_packet_timestamp_ns != 0) {
                target.appendInt64(AndroidNetworkMetric.PacketStatisticWire.FIRST_PACKET_TIMESTAMP_NS_WIRE, self.first_packet_timestamp_ns);
            }
            if (self.last_packet_timestamp_ns != 0) {
                target.appendInt64(AndroidNetworkMetric.PacketStatisticWire.LAST_PACKET_TIMESTAMP_NS_WIRE, self.last_packet_timestamp_ns);
            }
            if (self.interval_ns != 0) {
                target.appendInt64(AndroidNetworkMetric.PacketStatisticWire.INTERVAL_NS_WIRE, self.interval_ns);
            }
            if (self.data_rate_kbps != 0.0) {
                target.appendFloat64(AndroidNetworkMetric.PacketStatisticWire.DATA_RATE_KBPS_WIRE, self.data_rate_kbps);
            }
        }
    };
    pub const PacketStatisticReader = struct {
        buf: gremlin.Reader,
        _packets: i64 = 0,
        _bytes: i64 = 0,
        _first_packet_timestamp_ns: i64 = 0,
        _last_packet_timestamp_ns: i64 = 0,
        _interval_ns: i64 = 0,
        _data_rate_kbps: f64 = 0.0,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.PacketStatisticReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.PacketStatisticReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.PacketStatisticWire.PACKETS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._packets = result.value;
                    },
                    AndroidNetworkMetric.PacketStatisticWire.BYTES_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._bytes = result.value;
                    },
                    AndroidNetworkMetric.PacketStatisticWire.FIRST_PACKET_TIMESTAMP_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._first_packet_timestamp_ns = result.value;
                    },
                    AndroidNetworkMetric.PacketStatisticWire.LAST_PACKET_TIMESTAMP_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._last_packet_timestamp_ns = result.value;
                    },
                    AndroidNetworkMetric.PacketStatisticWire.INTERVAL_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._interval_ns = result.value;
                    },
                    AndroidNetworkMetric.PacketStatisticWire.DATA_RATE_KBPS_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._data_rate_kbps = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getPackets(self: *const AndroidNetworkMetric.PacketStatisticReader) i64 {
            return self._packets;
        }
        pub inline fn getBytes(self: *const AndroidNetworkMetric.PacketStatisticReader) i64 {
            return self._bytes;
        }
        pub inline fn getFirstPacketTimestampNs(self: *const AndroidNetworkMetric.PacketStatisticReader) i64 {
            return self._first_packet_timestamp_ns;
        }
        pub inline fn getLastPacketTimestampNs(self: *const AndroidNetworkMetric.PacketStatisticReader) i64 {
            return self._last_packet_timestamp_ns;
        }
        pub inline fn getIntervalNs(self: *const AndroidNetworkMetric.PacketStatisticReader) i64 {
            return self._interval_ns;
        }
        pub inline fn getDataRateKbps(self: *const AndroidNetworkMetric.PacketStatisticReader) f64 {
            return self._data_rate_kbps;
        }
    };
    const CorePacketStatisticWire = struct {
        const ID_WIRE: gremlin.ProtoWireNumber = 1;
        const PACKET_STATISTIC_WIRE: gremlin.ProtoWireNumber = 2;
    };
    pub const CorePacketStatistic = struct {
        // fields
        id: u32 = 0,
        packet_statistic: ?AndroidNetworkMetric.PacketStatistic = null,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.CorePacketStatistic) usize {
            var res: usize = 0;
            if (self.id != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.CorePacketStatisticWire.ID_WIRE) + gremlin.sizes.sizeU32(self.id);
            }
            if (self.packet_statistic) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.CorePacketStatisticWire.PACKET_STATISTIC_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.CorePacketStatistic, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.CorePacketStatistic, target: *gremlin.Writer) void {
            if (self.id != 0) {
                target.appendUint32(AndroidNetworkMetric.CorePacketStatisticWire.ID_WIRE, self.id);
            }
            if (self.packet_statistic) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidNetworkMetric.CorePacketStatisticWire.PACKET_STATISTIC_WIRE, size);
                    v.encodeTo(target);
                }
            }
        }
    };
    pub const CorePacketStatisticReader = struct {
        buf: gremlin.Reader,
        _id: u32 = 0,
        _packet_statistic_buf: ?[]const u8 = null,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.CorePacketStatisticReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.CorePacketStatisticReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.CorePacketStatisticWire.ID_WIRE => {
                        const result = try buf.readUInt32(offset);
                        offset += result.size;
                        res._id = result.value;
                    },
                    AndroidNetworkMetric.CorePacketStatisticWire.PACKET_STATISTIC_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._packet_statistic_buf = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getId(self: *const AndroidNetworkMetric.CorePacketStatisticReader) u32 {
            return self._id;
        }
        pub fn getPacketStatistic(self: *const AndroidNetworkMetric.CorePacketStatisticReader) gremlin.Error!AndroidNetworkMetric.PacketStatisticReader {
            if (self._packet_statistic_buf) |buf| {
                return try AndroidNetworkMetric.PacketStatisticReader.init(buf);
            }
            return try AndroidNetworkMetric.PacketStatisticReader.init(&[_]u8{});
        }
    };
    const RxWire = struct {
        const TOTAL_WIRE: gremlin.ProtoWireNumber = 1;
        const CORE_WIRE: gremlin.ProtoWireNumber = 2;
        const GRO_AGGREGATION_RATIO_WIRE: gremlin.ProtoWireNumber = 3;
    };
    pub const Rx = struct {
        // fields
        total: ?AndroidNetworkMetric.PacketStatistic = null,
        core: ?[]const ?AndroidNetworkMetric.CorePacketStatistic = null,
        gro_aggregation_ratio: ?[]const u8 = null,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.Rx) usize {
            var res: usize = 0;
            if (self.total) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.RxWire.TOTAL_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            if (self.core) |arr| {
                for (arr) |maybe_v| {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.RxWire.CORE_WIRE);
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        res += gremlin.sizes.sizeUsize(size) + size;
                    } else {
                        res += gremlin.sizes.sizeUsize(0);
                    }
                }
            }
            if (self.gro_aggregation_ratio) |v| {
                if (v.len > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.RxWire.GRO_AGGREGATION_RATIO_WIRE) + gremlin.sizes.sizeUsize(v.len) + v.len;
                }
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.Rx, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.Rx, target: *gremlin.Writer) void {
            if (self.total) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidNetworkMetric.RxWire.TOTAL_WIRE, size);
                    v.encodeTo(target);
                }
            }
            if (self.core) |arr| {
                for (arr) |maybe_v| {
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        target.appendBytesTag(AndroidNetworkMetric.RxWire.CORE_WIRE, size);
                        v.encodeTo(target);
                    } else {
                        target.appendBytesTag(AndroidNetworkMetric.RxWire.CORE_WIRE, 0);
                    }
                }
            }
            if (self.gro_aggregation_ratio) |v| {
                if (v.len > 0) {
                    target.appendBytes(AndroidNetworkMetric.RxWire.GRO_AGGREGATION_RATIO_WIRE, v);
                }
            }
        }
    };
    pub const RxReader = struct {
        buf: gremlin.Reader,
        _total_buf: ?[]const u8 = null,
        _core_offset: ?usize = null,
        _core_last_offset: ?usize = null,
        _core_cnt: usize = 0,
        _gro_aggregation_ratio: ?[]const u8 = null,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.RxReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.RxReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.RxWire.TOTAL_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._total_buf = result.value;
                    },
                    AndroidNetworkMetric.RxWire.CORE_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        if (res._core_offset == null) {
                            res._core_offset = offset - result.size;
                        }
                        res._core_last_offset = offset;
                        res._core_cnt += 1;
                    },
                    AndroidNetworkMetric.RxWire.GRO_AGGREGATION_RATIO_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._gro_aggregation_ratio = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub fn getTotal(self: *const AndroidNetworkMetric.RxReader) gremlin.Error!AndroidNetworkMetric.PacketStatisticReader {
            if (self._total_buf) |buf| {
                return try AndroidNetworkMetric.PacketStatisticReader.init(buf);
            }
            return try AndroidNetworkMetric.PacketStatisticReader.init(&[_]u8{});
        }
        pub fn coreCount(self: *const AndroidNetworkMetric.RxReader) usize {
            return self._core_cnt;
        }
        pub fn coreNext(self: *AndroidNetworkMetric.RxReader) ?AndroidNetworkMetric.CorePacketStatisticReader {
            if (self._core_offset == null) return null;
            const current_offset = self._core_offset.?;
            const result = self.buf.readBytes(current_offset) catch return null;
            const msg = AndroidNetworkMetric.CorePacketStatisticReader.init(result.value) catch return null;
            if (self._core_last_offset != null and current_offset >= self._core_last_offset.?) {
                self._core_offset = null;
                return msg;
            }
            if (self._core_last_offset == null) unreachable;
            var next_offset = current_offset + result.size;
            const max_offset = self._core_last_offset.?;
            while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
                const tag = self.buf.readTagAt(next_offset) catch break;
                next_offset += tag.size;
                if (tag.number == AndroidNetworkMetric.RxWire.CORE_WIRE) {
                    self._core_offset = next_offset;
                    return msg;
                } else {
                    next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
                }
            }
            self._core_offset = null;
            return msg;
        }
        pub inline fn getGroAggregationRatio(self: *const AndroidNetworkMetric.RxReader) []const u8 {
            return self._gro_aggregation_ratio orelse &[_]u8{};
        }
    };
    const TxWire = struct {
        const TOTAL_WIRE: gremlin.ProtoWireNumber = 1;
        const CORE_WIRE: gremlin.ProtoWireNumber = 2;
    };
    pub const Tx = struct {
        // fields
        total: ?AndroidNetworkMetric.PacketStatistic = null,
        core: ?[]const ?AndroidNetworkMetric.CorePacketStatistic = null,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.Tx) usize {
            var res: usize = 0;
            if (self.total) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.TxWire.TOTAL_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            if (self.core) |arr| {
                for (arr) |maybe_v| {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.TxWire.CORE_WIRE);
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        res += gremlin.sizes.sizeUsize(size) + size;
                    } else {
                        res += gremlin.sizes.sizeUsize(0);
                    }
                }
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.Tx, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.Tx, target: *gremlin.Writer) void {
            if (self.total) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidNetworkMetric.TxWire.TOTAL_WIRE, size);
                    v.encodeTo(target);
                }
            }
            if (self.core) |arr| {
                for (arr) |maybe_v| {
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        target.appendBytesTag(AndroidNetworkMetric.TxWire.CORE_WIRE, size);
                        v.encodeTo(target);
                    } else {
                        target.appendBytesTag(AndroidNetworkMetric.TxWire.CORE_WIRE, 0);
                    }
                }
            }
        }
    };
    pub const TxReader = struct {
        buf: gremlin.Reader,
        _total_buf: ?[]const u8 = null,
        _core_offset: ?usize = null,
        _core_last_offset: ?usize = null,
        _core_cnt: usize = 0,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.TxReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.TxReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.TxWire.TOTAL_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._total_buf = result.value;
                    },
                    AndroidNetworkMetric.TxWire.CORE_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        if (res._core_offset == null) {
                            res._core_offset = offset - result.size;
                        }
                        res._core_last_offset = offset;
                        res._core_cnt += 1;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub fn getTotal(self: *const AndroidNetworkMetric.TxReader) gremlin.Error!AndroidNetworkMetric.PacketStatisticReader {
            if (self._total_buf) |buf| {
                return try AndroidNetworkMetric.PacketStatisticReader.init(buf);
            }
            return try AndroidNetworkMetric.PacketStatisticReader.init(&[_]u8{});
        }
        pub fn coreCount(self: *const AndroidNetworkMetric.TxReader) usize {
            return self._core_cnt;
        }
        pub fn coreNext(self: *AndroidNetworkMetric.TxReader) ?AndroidNetworkMetric.CorePacketStatisticReader {
            if (self._core_offset == null) return null;
            const current_offset = self._core_offset.?;
            const result = self.buf.readBytes(current_offset) catch return null;
            const msg = AndroidNetworkMetric.CorePacketStatisticReader.init(result.value) catch return null;
            if (self._core_last_offset != null and current_offset >= self._core_last_offset.?) {
                self._core_offset = null;
                return msg;
            }
            if (self._core_last_offset == null) unreachable;
            var next_offset = current_offset + result.size;
            const max_offset = self._core_last_offset.?;
            while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
                const tag = self.buf.readTagAt(next_offset) catch break;
                next_offset += tag.size;
                if (tag.number == AndroidNetworkMetric.TxWire.CORE_WIRE) {
                    self._core_offset = next_offset;
                    return msg;
                } else {
                    next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
                }
            }
            self._core_offset = null;
            return msg;
        }
    };
    const NetDeviceWire = struct {
        const NAME_WIRE: gremlin.ProtoWireNumber = 1;
        const RX_WIRE: gremlin.ProtoWireNumber = 2;
        const TX_WIRE: gremlin.ProtoWireNumber = 3;
    };
    pub const NetDevice = struct {
        // fields
        name: ?[]const u8 = null,
        rx: ?AndroidNetworkMetric.Rx = null,
        tx: ?AndroidNetworkMetric.Tx = null,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.NetDevice) usize {
            var res: usize = 0;
            if (self.name) |v| {
                if (v.len > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetDeviceWire.NAME_WIRE) + gremlin.sizes.sizeUsize(v.len) + v.len;
                }
            }
            if (self.rx) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetDeviceWire.RX_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            if (self.tx) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetDeviceWire.TX_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.NetDevice, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.NetDevice, target: *gremlin.Writer) void {
            if (self.name) |v| {
                if (v.len > 0) {
                    target.appendBytes(AndroidNetworkMetric.NetDeviceWire.NAME_WIRE, v);
                }
            }
            if (self.rx) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidNetworkMetric.NetDeviceWire.RX_WIRE, size);
                    v.encodeTo(target);
                }
            }
            if (self.tx) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidNetworkMetric.NetDeviceWire.TX_WIRE, size);
                    v.encodeTo(target);
                }
            }
        }
    };
    pub const NetDeviceReader = struct {
        buf: gremlin.Reader,
        _name: ?[]const u8 = null,
        _rx_buf: ?[]const u8 = null,
        _tx_buf: ?[]const u8 = null,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.NetDeviceReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.NetDeviceReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.NetDeviceWire.NAME_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._name = result.value;
                    },
                    AndroidNetworkMetric.NetDeviceWire.RX_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._rx_buf = result.value;
                    },
                    AndroidNetworkMetric.NetDeviceWire.TX_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._tx_buf = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getName(self: *const AndroidNetworkMetric.NetDeviceReader) []const u8 {
            return self._name orelse &[_]u8{};
        }
        pub fn getRx(self: *const AndroidNetworkMetric.NetDeviceReader) gremlin.Error!AndroidNetworkMetric.RxReader {
            if (self._rx_buf) |buf| {
                return try AndroidNetworkMetric.RxReader.init(buf);
            }
            return try AndroidNetworkMetric.RxReader.init(&[_]u8{});
        }
        pub fn getTx(self: *const AndroidNetworkMetric.NetDeviceReader) gremlin.Error!AndroidNetworkMetric.TxReader {
            if (self._tx_buf) |buf| {
                return try AndroidNetworkMetric.TxReader.init(buf);
            }
            return try AndroidNetworkMetric.TxReader.init(&[_]u8{});
        }
    };
    const NetRxActionStatisticWire = struct {
        const COUNT_WIRE: gremlin.ProtoWireNumber = 1;
        const RUNTIME_MS_WIRE: gremlin.ProtoWireNumber = 2;
        const AVG_RUNTIME_MS_WIRE: gremlin.ProtoWireNumber = 3;
        const MCYCLES_WIRE: gremlin.ProtoWireNumber = 4;
        const AVG_FREQ_KHZ_WIRE: gremlin.ProtoWireNumber = 5;
    };
    pub const NetRxActionStatistic = struct {
        // fields
        count: i64 = 0,
        runtime_ms: f64 = 0.0,
        avg_runtime_ms: f64 = 0.0,
        mcycles: i64 = 0,
        avg_freq_khz: i64 = 0,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.NetRxActionStatistic) usize {
            var res: usize = 0;
            if (self.count != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetRxActionStatisticWire.COUNT_WIRE) + gremlin.sizes.sizeI64(self.count);
            }
            if (self.runtime_ms != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetRxActionStatisticWire.RUNTIME_MS_WIRE) + gremlin.sizes.sizeDouble(self.runtime_ms);
            }
            if (self.avg_runtime_ms != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetRxActionStatisticWire.AVG_RUNTIME_MS_WIRE) + gremlin.sizes.sizeDouble(self.avg_runtime_ms);
            }
            if (self.mcycles != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetRxActionStatisticWire.MCYCLES_WIRE) + gremlin.sizes.sizeI64(self.mcycles);
            }
            if (self.avg_freq_khz != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetRxActionStatisticWire.AVG_FREQ_KHZ_WIRE) + gremlin.sizes.sizeI64(self.avg_freq_khz);
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.NetRxActionStatistic, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.NetRxActionStatistic, target: *gremlin.Writer) void {
            if (self.count != 0) {
                target.appendInt64(AndroidNetworkMetric.NetRxActionStatisticWire.COUNT_WIRE, self.count);
            }
            if (self.runtime_ms != 0.0) {
                target.appendFloat64(AndroidNetworkMetric.NetRxActionStatisticWire.RUNTIME_MS_WIRE, self.runtime_ms);
            }
            if (self.avg_runtime_ms != 0.0) {
                target.appendFloat64(AndroidNetworkMetric.NetRxActionStatisticWire.AVG_RUNTIME_MS_WIRE, self.avg_runtime_ms);
            }
            if (self.mcycles != 0) {
                target.appendInt64(AndroidNetworkMetric.NetRxActionStatisticWire.MCYCLES_WIRE, self.mcycles);
            }
            if (self.avg_freq_khz != 0) {
                target.appendInt64(AndroidNetworkMetric.NetRxActionStatisticWire.AVG_FREQ_KHZ_WIRE, self.avg_freq_khz);
            }
        }
    };
    pub const NetRxActionStatisticReader = struct {
        buf: gremlin.Reader,
        _count: i64 = 0,
        _runtime_ms: f64 = 0.0,
        _avg_runtime_ms: f64 = 0.0,
        _mcycles: i64 = 0,
        _avg_freq_khz: i64 = 0,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.NetRxActionStatisticReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.NetRxActionStatisticReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.NetRxActionStatisticWire.COUNT_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._count = result.value;
                    },
                    AndroidNetworkMetric.NetRxActionStatisticWire.RUNTIME_MS_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._runtime_ms = result.value;
                    },
                    AndroidNetworkMetric.NetRxActionStatisticWire.AVG_RUNTIME_MS_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._avg_runtime_ms = result.value;
                    },
                    AndroidNetworkMetric.NetRxActionStatisticWire.MCYCLES_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._mcycles = result.value;
                    },
                    AndroidNetworkMetric.NetRxActionStatisticWire.AVG_FREQ_KHZ_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._avg_freq_khz = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getCount(self: *const AndroidNetworkMetric.NetRxActionStatisticReader) i64 {
            return self._count;
        }
        pub inline fn getRuntimeMs(self: *const AndroidNetworkMetric.NetRxActionStatisticReader) f64 {
            return self._runtime_ms;
        }
        pub inline fn getAvgRuntimeMs(self: *const AndroidNetworkMetric.NetRxActionStatisticReader) f64 {
            return self._avg_runtime_ms;
        }
        pub inline fn getMcycles(self: *const AndroidNetworkMetric.NetRxActionStatisticReader) i64 {
            return self._mcycles;
        }
        pub inline fn getAvgFreqKhz(self: *const AndroidNetworkMetric.NetRxActionStatisticReader) i64 {
            return self._avg_freq_khz;
        }
    };
    const NetTxActionStatisticWire = struct {
        const COUNT_WIRE: gremlin.ProtoWireNumber = 1;
        const RUNTIME_MS_WIRE: gremlin.ProtoWireNumber = 2;
        const AVG_RUNTIME_MS_WIRE: gremlin.ProtoWireNumber = 3;
        const MCYCLES_WIRE: gremlin.ProtoWireNumber = 4;
        const AVG_FREQ_KHZ_WIRE: gremlin.ProtoWireNumber = 5;
    };
    pub const NetTxActionStatistic = struct {
        // fields
        count: i64 = 0,
        runtime_ms: f64 = 0.0,
        avg_runtime_ms: f64 = 0.0,
        mcycles: i64 = 0,
        avg_freq_khz: i64 = 0,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.NetTxActionStatistic) usize {
            var res: usize = 0;
            if (self.count != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetTxActionStatisticWire.COUNT_WIRE) + gremlin.sizes.sizeI64(self.count);
            }
            if (self.runtime_ms != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetTxActionStatisticWire.RUNTIME_MS_WIRE) + gremlin.sizes.sizeDouble(self.runtime_ms);
            }
            if (self.avg_runtime_ms != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetTxActionStatisticWire.AVG_RUNTIME_MS_WIRE) + gremlin.sizes.sizeDouble(self.avg_runtime_ms);
            }
            if (self.mcycles != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetTxActionStatisticWire.MCYCLES_WIRE) + gremlin.sizes.sizeI64(self.mcycles);
            }
            if (self.avg_freq_khz != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetTxActionStatisticWire.AVG_FREQ_KHZ_WIRE) + gremlin.sizes.sizeI64(self.avg_freq_khz);
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.NetTxActionStatistic, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.NetTxActionStatistic, target: *gremlin.Writer) void {
            if (self.count != 0) {
                target.appendInt64(AndroidNetworkMetric.NetTxActionStatisticWire.COUNT_WIRE, self.count);
            }
            if (self.runtime_ms != 0.0) {
                target.appendFloat64(AndroidNetworkMetric.NetTxActionStatisticWire.RUNTIME_MS_WIRE, self.runtime_ms);
            }
            if (self.avg_runtime_ms != 0.0) {
                target.appendFloat64(AndroidNetworkMetric.NetTxActionStatisticWire.AVG_RUNTIME_MS_WIRE, self.avg_runtime_ms);
            }
            if (self.mcycles != 0) {
                target.appendInt64(AndroidNetworkMetric.NetTxActionStatisticWire.MCYCLES_WIRE, self.mcycles);
            }
            if (self.avg_freq_khz != 0) {
                target.appendInt64(AndroidNetworkMetric.NetTxActionStatisticWire.AVG_FREQ_KHZ_WIRE, self.avg_freq_khz);
            }
        }
    };
    pub const NetTxActionStatisticReader = struct {
        buf: gremlin.Reader,
        _count: i64 = 0,
        _runtime_ms: f64 = 0.0,
        _avg_runtime_ms: f64 = 0.0,
        _mcycles: i64 = 0,
        _avg_freq_khz: i64 = 0,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.NetTxActionStatisticReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.NetTxActionStatisticReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.NetTxActionStatisticWire.COUNT_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._count = result.value;
                    },
                    AndroidNetworkMetric.NetTxActionStatisticWire.RUNTIME_MS_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._runtime_ms = result.value;
                    },
                    AndroidNetworkMetric.NetTxActionStatisticWire.AVG_RUNTIME_MS_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._avg_runtime_ms = result.value;
                    },
                    AndroidNetworkMetric.NetTxActionStatisticWire.MCYCLES_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._mcycles = result.value;
                    },
                    AndroidNetworkMetric.NetTxActionStatisticWire.AVG_FREQ_KHZ_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._avg_freq_khz = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getCount(self: *const AndroidNetworkMetric.NetTxActionStatisticReader) i64 {
            return self._count;
        }
        pub inline fn getRuntimeMs(self: *const AndroidNetworkMetric.NetTxActionStatisticReader) f64 {
            return self._runtime_ms;
        }
        pub inline fn getAvgRuntimeMs(self: *const AndroidNetworkMetric.NetTxActionStatisticReader) f64 {
            return self._avg_runtime_ms;
        }
        pub inline fn getMcycles(self: *const AndroidNetworkMetric.NetTxActionStatisticReader) i64 {
            return self._mcycles;
        }
        pub inline fn getAvgFreqKhz(self: *const AndroidNetworkMetric.NetTxActionStatisticReader) i64 {
            return self._avg_freq_khz;
        }
    };
    const IpiActionStatisticWire = struct {
        const COUNT_WIRE: gremlin.ProtoWireNumber = 1;
        const RUNTIME_MS_WIRE: gremlin.ProtoWireNumber = 2;
        const AVG_RUNTIME_MS_WIRE: gremlin.ProtoWireNumber = 3;
    };
    pub const IpiActionStatistic = struct {
        // fields
        count: i64 = 0,
        runtime_ms: f64 = 0.0,
        avg_runtime_ms: f64 = 0.0,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.IpiActionStatistic) usize {
            var res: usize = 0;
            if (self.count != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.IpiActionStatisticWire.COUNT_WIRE) + gremlin.sizes.sizeI64(self.count);
            }
            if (self.runtime_ms != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.IpiActionStatisticWire.RUNTIME_MS_WIRE) + gremlin.sizes.sizeDouble(self.runtime_ms);
            }
            if (self.avg_runtime_ms != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.IpiActionStatisticWire.AVG_RUNTIME_MS_WIRE) + gremlin.sizes.sizeDouble(self.avg_runtime_ms);
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.IpiActionStatistic, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.IpiActionStatistic, target: *gremlin.Writer) void {
            if (self.count != 0) {
                target.appendInt64(AndroidNetworkMetric.IpiActionStatisticWire.COUNT_WIRE, self.count);
            }
            if (self.runtime_ms != 0.0) {
                target.appendFloat64(AndroidNetworkMetric.IpiActionStatisticWire.RUNTIME_MS_WIRE, self.runtime_ms);
            }
            if (self.avg_runtime_ms != 0.0) {
                target.appendFloat64(AndroidNetworkMetric.IpiActionStatisticWire.AVG_RUNTIME_MS_WIRE, self.avg_runtime_ms);
            }
        }
    };
    pub const IpiActionStatisticReader = struct {
        buf: gremlin.Reader,
        _count: i64 = 0,
        _runtime_ms: f64 = 0.0,
        _avg_runtime_ms: f64 = 0.0,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.IpiActionStatisticReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.IpiActionStatisticReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.IpiActionStatisticWire.COUNT_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._count = result.value;
                    },
                    AndroidNetworkMetric.IpiActionStatisticWire.RUNTIME_MS_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._runtime_ms = result.value;
                    },
                    AndroidNetworkMetric.IpiActionStatisticWire.AVG_RUNTIME_MS_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._avg_runtime_ms = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getCount(self: *const AndroidNetworkMetric.IpiActionStatisticReader) i64 {
            return self._count;
        }
        pub inline fn getRuntimeMs(self: *const AndroidNetworkMetric.IpiActionStatisticReader) f64 {
            return self._runtime_ms;
        }
        pub inline fn getAvgRuntimeMs(self: *const AndroidNetworkMetric.IpiActionStatisticReader) f64 {
            return self._avg_runtime_ms;
        }
    };
    const CoreNetRxActionStatisticWire = struct {
        const ID_WIRE: gremlin.ProtoWireNumber = 1;
        const NET_RX_ACTION_STATISTIC_WIRE: gremlin.ProtoWireNumber = 2;
    };
    pub const CoreNetRxActionStatistic = struct {
        // fields
        id: u32 = 0,
        net_rx_action_statistic: ?AndroidNetworkMetric.NetRxActionStatistic = null,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.CoreNetRxActionStatistic) usize {
            var res: usize = 0;
            if (self.id != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.CoreNetRxActionStatisticWire.ID_WIRE) + gremlin.sizes.sizeU32(self.id);
            }
            if (self.net_rx_action_statistic) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.CoreNetRxActionStatisticWire.NET_RX_ACTION_STATISTIC_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.CoreNetRxActionStatistic, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.CoreNetRxActionStatistic, target: *gremlin.Writer) void {
            if (self.id != 0) {
                target.appendUint32(AndroidNetworkMetric.CoreNetRxActionStatisticWire.ID_WIRE, self.id);
            }
            if (self.net_rx_action_statistic) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidNetworkMetric.CoreNetRxActionStatisticWire.NET_RX_ACTION_STATISTIC_WIRE, size);
                    v.encodeTo(target);
                }
            }
        }
    };
    pub const CoreNetRxActionStatisticReader = struct {
        buf: gremlin.Reader,
        _id: u32 = 0,
        _net_rx_action_statistic_buf: ?[]const u8 = null,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.CoreNetRxActionStatisticReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.CoreNetRxActionStatisticReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.CoreNetRxActionStatisticWire.ID_WIRE => {
                        const result = try buf.readUInt32(offset);
                        offset += result.size;
                        res._id = result.value;
                    },
                    AndroidNetworkMetric.CoreNetRxActionStatisticWire.NET_RX_ACTION_STATISTIC_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._net_rx_action_statistic_buf = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getId(self: *const AndroidNetworkMetric.CoreNetRxActionStatisticReader) u32 {
            return self._id;
        }
        pub fn getNetRxActionStatistic(self: *const AndroidNetworkMetric.CoreNetRxActionStatisticReader) gremlin.Error!AndroidNetworkMetric.NetRxActionStatisticReader {
            if (self._net_rx_action_statistic_buf) |buf| {
                return try AndroidNetworkMetric.NetRxActionStatisticReader.init(buf);
            }
            return try AndroidNetworkMetric.NetRxActionStatisticReader.init(&[_]u8{});
        }
    };
    const CoreNetTxActionStatisticWire = struct {
        const ID_WIRE: gremlin.ProtoWireNumber = 1;
        const NET_TX_ACTION_STATISTIC_WIRE: gremlin.ProtoWireNumber = 2;
    };
    pub const CoreNetTxActionStatistic = struct {
        // fields
        id: u32 = 0,
        net_tx_action_statistic: ?AndroidNetworkMetric.NetTxActionStatistic = null,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.CoreNetTxActionStatistic) usize {
            var res: usize = 0;
            if (self.id != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.CoreNetTxActionStatisticWire.ID_WIRE) + gremlin.sizes.sizeU32(self.id);
            }
            if (self.net_tx_action_statistic) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.CoreNetTxActionStatisticWire.NET_TX_ACTION_STATISTIC_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.CoreNetTxActionStatistic, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.CoreNetTxActionStatistic, target: *gremlin.Writer) void {
            if (self.id != 0) {
                target.appendUint32(AndroidNetworkMetric.CoreNetTxActionStatisticWire.ID_WIRE, self.id);
            }
            if (self.net_tx_action_statistic) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidNetworkMetric.CoreNetTxActionStatisticWire.NET_TX_ACTION_STATISTIC_WIRE, size);
                    v.encodeTo(target);
                }
            }
        }
    };
    pub const CoreNetTxActionStatisticReader = struct {
        buf: gremlin.Reader,
        _id: u32 = 0,
        _net_tx_action_statistic_buf: ?[]const u8 = null,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.CoreNetTxActionStatisticReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.CoreNetTxActionStatisticReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.CoreNetTxActionStatisticWire.ID_WIRE => {
                        const result = try buf.readUInt32(offset);
                        offset += result.size;
                        res._id = result.value;
                    },
                    AndroidNetworkMetric.CoreNetTxActionStatisticWire.NET_TX_ACTION_STATISTIC_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._net_tx_action_statistic_buf = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getId(self: *const AndroidNetworkMetric.CoreNetTxActionStatisticReader) u32 {
            return self._id;
        }
        pub fn getNetTxActionStatistic(self: *const AndroidNetworkMetric.CoreNetTxActionStatisticReader) gremlin.Error!AndroidNetworkMetric.NetTxActionStatisticReader {
            if (self._net_tx_action_statistic_buf) |buf| {
                return try AndroidNetworkMetric.NetTxActionStatisticReader.init(buf);
            }
            return try AndroidNetworkMetric.NetTxActionStatisticReader.init(&[_]u8{});
        }
    };
    const NetRxActionWire = struct {
        const TOTAL_WIRE: gremlin.ProtoWireNumber = 1;
        const CORE_WIRE: gremlin.ProtoWireNumber = 2;
        const AVG_INTERSTACK_LATENCY_MS_WIRE: gremlin.ProtoWireNumber = 3;
    };
    pub const NetRxAction = struct {
        // fields
        total: ?AndroidNetworkMetric.NetRxActionStatistic = null,
        core: ?[]const ?AndroidNetworkMetric.CoreNetRxActionStatistic = null,
        avg_interstack_latency_ms: f64 = 0.0,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.NetRxAction) usize {
            var res: usize = 0;
            if (self.total) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetRxActionWire.TOTAL_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            if (self.core) |arr| {
                for (arr) |maybe_v| {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetRxActionWire.CORE_WIRE);
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        res += gremlin.sizes.sizeUsize(size) + size;
                    } else {
                        res += gremlin.sizes.sizeUsize(0);
                    }
                }
            }
            if (self.avg_interstack_latency_ms != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetRxActionWire.AVG_INTERSTACK_LATENCY_MS_WIRE) + gremlin.sizes.sizeDouble(self.avg_interstack_latency_ms);
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.NetRxAction, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.NetRxAction, target: *gremlin.Writer) void {
            if (self.total) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidNetworkMetric.NetRxActionWire.TOTAL_WIRE, size);
                    v.encodeTo(target);
                }
            }
            if (self.core) |arr| {
                for (arr) |maybe_v| {
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        target.appendBytesTag(AndroidNetworkMetric.NetRxActionWire.CORE_WIRE, size);
                        v.encodeTo(target);
                    } else {
                        target.appendBytesTag(AndroidNetworkMetric.NetRxActionWire.CORE_WIRE, 0);
                    }
                }
            }
            if (self.avg_interstack_latency_ms != 0.0) {
                target.appendFloat64(AndroidNetworkMetric.NetRxActionWire.AVG_INTERSTACK_LATENCY_MS_WIRE, self.avg_interstack_latency_ms);
            }
        }
    };
    pub const NetRxActionReader = struct {
        buf: gremlin.Reader,
        _total_buf: ?[]const u8 = null,
        _core_offset: ?usize = null,
        _core_last_offset: ?usize = null,
        _core_cnt: usize = 0,
        _avg_interstack_latency_ms: f64 = 0.0,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.NetRxActionReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.NetRxActionReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.NetRxActionWire.TOTAL_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._total_buf = result.value;
                    },
                    AndroidNetworkMetric.NetRxActionWire.CORE_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        if (res._core_offset == null) {
                            res._core_offset = offset - result.size;
                        }
                        res._core_last_offset = offset;
                        res._core_cnt += 1;
                    },
                    AndroidNetworkMetric.NetRxActionWire.AVG_INTERSTACK_LATENCY_MS_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._avg_interstack_latency_ms = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub fn getTotal(self: *const AndroidNetworkMetric.NetRxActionReader) gremlin.Error!AndroidNetworkMetric.NetRxActionStatisticReader {
            if (self._total_buf) |buf| {
                return try AndroidNetworkMetric.NetRxActionStatisticReader.init(buf);
            }
            return try AndroidNetworkMetric.NetRxActionStatisticReader.init(&[_]u8{});
        }
        pub fn coreCount(self: *const AndroidNetworkMetric.NetRxActionReader) usize {
            return self._core_cnt;
        }
        pub fn coreNext(self: *AndroidNetworkMetric.NetRxActionReader) ?AndroidNetworkMetric.CoreNetRxActionStatisticReader {
            if (self._core_offset == null) return null;
            const current_offset = self._core_offset.?;
            const result = self.buf.readBytes(current_offset) catch return null;
            const msg = AndroidNetworkMetric.CoreNetRxActionStatisticReader.init(result.value) catch return null;
            if (self._core_last_offset != null and current_offset >= self._core_last_offset.?) {
                self._core_offset = null;
                return msg;
            }
            if (self._core_last_offset == null) unreachable;
            var next_offset = current_offset + result.size;
            const max_offset = self._core_last_offset.?;
            while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
                const tag = self.buf.readTagAt(next_offset) catch break;
                next_offset += tag.size;
                if (tag.number == AndroidNetworkMetric.NetRxActionWire.CORE_WIRE) {
                    self._core_offset = next_offset;
                    return msg;
                } else {
                    next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
                }
            }
            self._core_offset = null;
            return msg;
        }
        pub inline fn getAvgInterstackLatencyMs(self: *const AndroidNetworkMetric.NetRxActionReader) f64 {
            return self._avg_interstack_latency_ms;
        }
    };
    const NetTxActionWire = struct {
        const TOTAL_WIRE: gremlin.ProtoWireNumber = 1;
        const CORE_WIRE: gremlin.ProtoWireNumber = 2;
    };
    pub const NetTxAction = struct {
        // fields
        total: ?AndroidNetworkMetric.NetTxActionStatistic = null,
        core: ?[]const ?AndroidNetworkMetric.CoreNetTxActionStatistic = null,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.NetTxAction) usize {
            var res: usize = 0;
            if (self.total) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetTxActionWire.TOTAL_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            if (self.core) |arr| {
                for (arr) |maybe_v| {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.NetTxActionWire.CORE_WIRE);
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        res += gremlin.sizes.sizeUsize(size) + size;
                    } else {
                        res += gremlin.sizes.sizeUsize(0);
                    }
                }
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.NetTxAction, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.NetTxAction, target: *gremlin.Writer) void {
            if (self.total) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidNetworkMetric.NetTxActionWire.TOTAL_WIRE, size);
                    v.encodeTo(target);
                }
            }
            if (self.core) |arr| {
                for (arr) |maybe_v| {
                    if (maybe_v) |v| {
                        const size = v.calcProtobufSize();
                        target.appendBytesTag(AndroidNetworkMetric.NetTxActionWire.CORE_WIRE, size);
                        v.encodeTo(target);
                    } else {
                        target.appendBytesTag(AndroidNetworkMetric.NetTxActionWire.CORE_WIRE, 0);
                    }
                }
            }
        }
    };
    pub const NetTxActionReader = struct {
        buf: gremlin.Reader,
        _total_buf: ?[]const u8 = null,
        _core_offset: ?usize = null,
        _core_last_offset: ?usize = null,
        _core_cnt: usize = 0,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.NetTxActionReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.NetTxActionReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.NetTxActionWire.TOTAL_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._total_buf = result.value;
                    },
                    AndroidNetworkMetric.NetTxActionWire.CORE_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        if (res._core_offset == null) {
                            res._core_offset = offset - result.size;
                        }
                        res._core_last_offset = offset;
                        res._core_cnt += 1;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub fn getTotal(self: *const AndroidNetworkMetric.NetTxActionReader) gremlin.Error!AndroidNetworkMetric.NetTxActionStatisticReader {
            if (self._total_buf) |buf| {
                return try AndroidNetworkMetric.NetTxActionStatisticReader.init(buf);
            }
            return try AndroidNetworkMetric.NetTxActionStatisticReader.init(&[_]u8{});
        }
        pub fn coreCount(self: *const AndroidNetworkMetric.NetTxActionReader) usize {
            return self._core_cnt;
        }
        pub fn coreNext(self: *AndroidNetworkMetric.NetTxActionReader) ?AndroidNetworkMetric.CoreNetTxActionStatisticReader {
            if (self._core_offset == null) return null;
            const current_offset = self._core_offset.?;
            const result = self.buf.readBytes(current_offset) catch return null;
            const msg = AndroidNetworkMetric.CoreNetTxActionStatisticReader.init(result.value) catch return null;
            if (self._core_last_offset != null and current_offset >= self._core_last_offset.?) {
                self._core_offset = null;
                return msg;
            }
            if (self._core_last_offset == null) unreachable;
            var next_offset = current_offset + result.size;
            const max_offset = self._core_last_offset.?;
            while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
                const tag = self.buf.readTagAt(next_offset) catch break;
                next_offset += tag.size;
                if (tag.number == AndroidNetworkMetric.NetTxActionWire.CORE_WIRE) {
                    self._core_offset = next_offset;
                    return msg;
                } else {
                    next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
                }
            }
            self._core_offset = null;
            return msg;
        }
    };
    const IpiActionWire = struct {
        const TOTAL_WIRE: gremlin.ProtoWireNumber = 1;
    };
    pub const IpiAction = struct {
        // fields
        total: ?AndroidNetworkMetric.IpiActionStatistic = null,
        pub fn calcProtobufSize(self: *const AndroidNetworkMetric.IpiAction) usize {
            var res: usize = 0;
            if (self.total) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetric.IpiActionWire.TOTAL_WIRE) + gremlin.sizes.sizeUsize(size) + size;
                }
            }
            return res;
        }
        pub fn encode(self: *const AndroidNetworkMetric.IpiAction, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidNetworkMetric.IpiAction, target: *gremlin.Writer) void {
            if (self.total) |v| {
                const size = v.calcProtobufSize();
                if (size > 0) {
                    target.appendBytesTag(AndroidNetworkMetric.IpiActionWire.TOTAL_WIRE, size);
                    v.encodeTo(target);
                }
            }
        }
    };
    pub const IpiActionReader = struct {
        buf: gremlin.Reader,
        _total_buf: ?[]const u8 = null,
        pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetric.IpiActionReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidNetworkMetric.IpiActionReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidNetworkMetric.IpiActionWire.TOTAL_WIRE => {
                        const result = try buf.readBytes(offset);
                        offset += result.size;
                        res._total_buf = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub fn getTotal(self: *const AndroidNetworkMetric.IpiActionReader) gremlin.Error!AndroidNetworkMetric.IpiActionStatisticReader {
            if (self._total_buf) |buf| {
                return try AndroidNetworkMetric.IpiActionStatisticReader.init(buf);
            }
            return try AndroidNetworkMetric.IpiActionStatisticReader.init(&[_]u8{});
        }
    };
    // fields
    net_devices: ?[]const ?AndroidNetworkMetric.NetDevice = null,
    net_rx_action: ?AndroidNetworkMetric.NetRxAction = null,
    retransmission_rate: f64 = 0.0,
    kfree_skb_rate: f64 = 0.0,
    net_tx_action: ?AndroidNetworkMetric.NetTxAction = null,
    ipi_action: ?AndroidNetworkMetric.IpiAction = null,
    pub fn calcProtobufSize(self: *const AndroidNetworkMetric) usize {
        var res: usize = 0;
        if (self.net_devices) |arr| {
            for (arr) |maybe_v| {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetricWire.NET_DEVICES_WIRE);
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    res += gremlin.sizes.sizeUsize(size) + size;
                } else {
                    res += gremlin.sizes.sizeUsize(0);
                }
            }
        }
        if (self.net_rx_action) |v| {
            const size = v.calcProtobufSize();
            if (size > 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetricWire.NET_RX_ACTION_WIRE) + gremlin.sizes.sizeUsize(size) + size;
            }
        }
        if (self.retransmission_rate != 0.0) {
            res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetricWire.RETRANSMISSION_RATE_WIRE) + gremlin.sizes.sizeDouble(self.retransmission_rate);
        }
        if (self.kfree_skb_rate != 0.0) {
            res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetricWire.KFREE_SKB_RATE_WIRE) + gremlin.sizes.sizeDouble(self.kfree_skb_rate);
        }
        if (self.net_tx_action) |v| {
            const size = v.calcProtobufSize();
            if (size > 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetricWire.NET_TX_ACTION_WIRE) + gremlin.sizes.sizeUsize(size) + size;
            }
        }
        if (self.ipi_action) |v| {
            const size = v.calcProtobufSize();
            if (size > 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidNetworkMetricWire.IPI_ACTION_WIRE) + gremlin.sizes.sizeUsize(size) + size;
            }
        }
        return res;
    }
    pub fn encode(self: *const AndroidNetworkMetric, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
        const size = self.calcProtobufSize();
        if (size == 0) {
            return &[_]u8{};
        }
        const buf = try allocator.alloc(u8, self.calcProtobufSize());
        var writer = gremlin.Writer.init(buf);
        self.encodeTo(&writer);
        return buf;
    }
    pub fn encodeTo(self: *const AndroidNetworkMetric, target: *gremlin.Writer) void {
        if (self.net_devices) |arr| {
            for (arr) |maybe_v| {
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    target.appendBytesTag(AndroidNetworkMetricWire.NET_DEVICES_WIRE, size);
                    v.encodeTo(target);
                } else {
                    target.appendBytesTag(AndroidNetworkMetricWire.NET_DEVICES_WIRE, 0);
                }
            }
        }
        if (self.net_rx_action) |v| {
            const size = v.calcProtobufSize();
            if (size > 0) {
                target.appendBytesTag(AndroidNetworkMetricWire.NET_RX_ACTION_WIRE, size);
                v.encodeTo(target);
            }
        }
        if (self.retransmission_rate != 0.0) {
            target.appendFloat64(AndroidNetworkMetricWire.RETRANSMISSION_RATE_WIRE, self.retransmission_rate);
        }
        if (self.kfree_skb_rate != 0.0) {
            target.appendFloat64(AndroidNetworkMetricWire.KFREE_SKB_RATE_WIRE, self.kfree_skb_rate);
        }
        if (self.net_tx_action) |v| {
            const size = v.calcProtobufSize();
            if (size > 0) {
                target.appendBytesTag(AndroidNetworkMetricWire.NET_TX_ACTION_WIRE, size);
                v.encodeTo(target);
            }
        }
        if (self.ipi_action) |v| {
            const size = v.calcProtobufSize();
            if (size > 0) {
                target.appendBytesTag(AndroidNetworkMetricWire.IPI_ACTION_WIRE, size);
                v.encodeTo(target);
            }
        }
    }
};
pub const AndroidNetworkMetricReader = struct {
    buf: gremlin.Reader,
    _net_devices_offset: ?usize = null,
    _net_devices_last_offset: ?usize = null,
    _net_devices_cnt: usize = 0,
    _net_rx_action_buf: ?[]const u8 = null,
    _retransmission_rate: f64 = 0.0,
    _kfree_skb_rate: f64 = 0.0,
    _net_tx_action_buf: ?[]const u8 = null,
    _ipi_action_buf: ?[]const u8 = null,
    pub fn init(src: []const u8) gremlin.Error!AndroidNetworkMetricReader {
        const buf = gremlin.Reader.init(src);
        var res = AndroidNetworkMetricReader{ .buf = buf };
        if (buf.buf.len == 0) {
            return res;
        }
        var offset: usize = 0;
        while (buf.hasNext(offset, 0)) {
            const tag = try buf.readTagAt(offset);
            offset += tag.size;
            switch (tag.number) {
                AndroidNetworkMetricWire.NET_DEVICES_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    if (res._net_devices_offset == null) {
                        res._net_devices_offset = offset - result.size;
                    }
                    res._net_devices_last_offset = offset;
                    res._net_devices_cnt += 1;
                },
                AndroidNetworkMetricWire.NET_RX_ACTION_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    res._net_rx_action_buf = result.value;
                },
                AndroidNetworkMetricWire.RETRANSMISSION_RATE_WIRE => {
                    const result = try buf.readFloat64(offset);
                    offset += result.size;
                    res._retransmission_rate = result.value;
                },
                AndroidNetworkMetricWire.KFREE_SKB_RATE_WIRE => {
                    const result = try buf.readFloat64(offset);
                    offset += result.size;
                    res._kfree_skb_rate = result.value;
                },
                AndroidNetworkMetricWire.NET_TX_ACTION_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    res._net_tx_action_buf = result.value;
                },
                AndroidNetworkMetricWire.IPI_ACTION_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    res._ipi_action_buf = result.value;
                },
                else => {
                    offset = try buf.skipData(offset, tag.wire);
                },
            }
        }
        return res;
    }
    pub fn sourceBytes(self: *const @This()) []const u8 {
        return self.buf.buf;
    }
    pub fn netDevicesCount(self: *const AndroidNetworkMetricReader) usize {
        return self._net_devices_cnt;
    }
    pub fn netDevicesNext(self: *AndroidNetworkMetricReader) ?AndroidNetworkMetric.NetDeviceReader {
        if (self._net_devices_offset == null) return null;
        const current_offset = self._net_devices_offset.?;
        const result = self.buf.readBytes(current_offset) catch return null;
        const msg = AndroidNetworkMetric.NetDeviceReader.init(result.value) catch return null;
        if (self._net_devices_last_offset != null and current_offset >= self._net_devices_last_offset.?) {
            self._net_devices_offset = null;
            return msg;
        }
        if (self._net_devices_last_offset == null) unreachable;
        var next_offset = current_offset + result.size;
        const max_offset = self._net_devices_last_offset.?;
        while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
            const tag = self.buf.readTagAt(next_offset) catch break;
            next_offset += tag.size;
            if (tag.number == AndroidNetworkMetricWire.NET_DEVICES_WIRE) {
                self._net_devices_offset = next_offset;
                return msg;
            } else {
                next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
            }
        }
        self._net_devices_offset = null;
        return msg;
    }
    pub fn getNetRxAction(self: *const AndroidNetworkMetricReader) gremlin.Error!AndroidNetworkMetric.NetRxActionReader {
        if (self._net_rx_action_buf) |buf| {
            return try AndroidNetworkMetric.NetRxActionReader.init(buf);
        }
        return try AndroidNetworkMetric.NetRxActionReader.init(&[_]u8{});
    }
    pub inline fn getRetransmissionRate(self: *const AndroidNetworkMetricReader) f64 {
        return self._retransmission_rate;
    }
    pub inline fn getKfreeSkbRate(self: *const AndroidNetworkMetricReader) f64 {
        return self._kfree_skb_rate;
    }
    pub fn getNetTxAction(self: *const AndroidNetworkMetricReader) gremlin.Error!AndroidNetworkMetric.NetTxActionReader {
        if (self._net_tx_action_buf) |buf| {
            return try AndroidNetworkMetric.NetTxActionReader.init(buf);
        }
        return try AndroidNetworkMetric.NetTxActionReader.init(&[_]u8{});
    }
    pub fn getIpiAction(self: *const AndroidNetworkMetricReader) gremlin.Error!AndroidNetworkMetric.IpiActionReader {
        if (self._ipi_action_buf) |buf| {
            return try AndroidNetworkMetric.IpiActionReader.init(buf);
        }
        return try AndroidNetworkMetric.IpiActionReader.init(&[_]u8{});
    }
};
