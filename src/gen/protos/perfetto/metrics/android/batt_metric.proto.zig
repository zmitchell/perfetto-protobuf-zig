// =============================================================================
// DO NOT EDIT - This file is automatically generated by gremlin.zig
// =============================================================================
const std = @import("std");
const gremlin = @import("gremlin");
// structs
const AndroidBatteryMetricWire = struct {
    const BATTERY_COUNTERS_WIRE: gremlin.ProtoWireNumber = 1;
    const BATTERY_AGGREGATES_WIRE: gremlin.ProtoWireNumber = 2;
    const SUSPEND_PERIOD_WIRE: gremlin.ProtoWireNumber = 3;
};
pub const AndroidBatteryMetric = struct {
    // nested structs
    const BatteryCountersWire = struct {
        const TIMESTAMP_NS_WIRE: gremlin.ProtoWireNumber = 1;
        const CHARGE_COUNTER_UAH_WIRE: gremlin.ProtoWireNumber = 2;
        const CAPACITY_PERCENT_WIRE: gremlin.ProtoWireNumber = 3;
        const CURRENT_UA_WIRE: gremlin.ProtoWireNumber = 4;
        const CURRENT_AVG_UA_WIRE: gremlin.ProtoWireNumber = 5;
        const VOLTAGE_UV_WIRE: gremlin.ProtoWireNumber = 6;
    };
    pub const BatteryCounters = struct {
        // fields
        timestamp_ns: i64 = 0,
        charge_counter_uah: f64 = 0.0,
        capacity_percent: f32 = 0.0,
        current_ua: f64 = 0.0,
        current_avg_ua: f64 = 0.0,
        voltage_uv: f64 = 0.0,
        pub fn calcProtobufSize(self: *const AndroidBatteryMetric.BatteryCounters) usize {
            var res: usize = 0;
            if (self.timestamp_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryCountersWire.TIMESTAMP_NS_WIRE) + gremlin.sizes.sizeI64(self.timestamp_ns);
            }
            if (self.charge_counter_uah != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryCountersWire.CHARGE_COUNTER_UAH_WIRE) + gremlin.sizes.sizeDouble(self.charge_counter_uah);
            }
            if (self.capacity_percent != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryCountersWire.CAPACITY_PERCENT_WIRE) + gremlin.sizes.sizeFloat(self.capacity_percent);
            }
            if (self.current_ua != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryCountersWire.CURRENT_UA_WIRE) + gremlin.sizes.sizeDouble(self.current_ua);
            }
            if (self.current_avg_ua != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryCountersWire.CURRENT_AVG_UA_WIRE) + gremlin.sizes.sizeDouble(self.current_avg_ua);
            }
            if (self.voltage_uv != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryCountersWire.VOLTAGE_UV_WIRE) + gremlin.sizes.sizeDouble(self.voltage_uv);
            }
            return res;
        }
        pub fn encode(self: *const AndroidBatteryMetric.BatteryCounters, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidBatteryMetric.BatteryCounters, target: *gremlin.Writer) void {
            if (self.timestamp_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.BatteryCountersWire.TIMESTAMP_NS_WIRE, self.timestamp_ns);
            }
            if (self.charge_counter_uah != 0.0) {
                target.appendFloat64(AndroidBatteryMetric.BatteryCountersWire.CHARGE_COUNTER_UAH_WIRE, self.charge_counter_uah);
            }
            if (self.capacity_percent != 0.0) {
                target.appendFloat32(AndroidBatteryMetric.BatteryCountersWire.CAPACITY_PERCENT_WIRE, self.capacity_percent);
            }
            if (self.current_ua != 0.0) {
                target.appendFloat64(AndroidBatteryMetric.BatteryCountersWire.CURRENT_UA_WIRE, self.current_ua);
            }
            if (self.current_avg_ua != 0.0) {
                target.appendFloat64(AndroidBatteryMetric.BatteryCountersWire.CURRENT_AVG_UA_WIRE, self.current_avg_ua);
            }
            if (self.voltage_uv != 0.0) {
                target.appendFloat64(AndroidBatteryMetric.BatteryCountersWire.VOLTAGE_UV_WIRE, self.voltage_uv);
            }
        }
    };
    pub const BatteryCountersReader = struct {
        buf: gremlin.Reader,
        _timestamp_ns: i64 = 0,
        _charge_counter_uah: f64 = 0.0,
        _capacity_percent: f32 = 0.0,
        _current_ua: f64 = 0.0,
        _current_avg_ua: f64 = 0.0,
        _voltage_uv: f64 = 0.0,
        pub fn init(src: []const u8) gremlin.Error!AndroidBatteryMetric.BatteryCountersReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidBatteryMetric.BatteryCountersReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidBatteryMetric.BatteryCountersWire.TIMESTAMP_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._timestamp_ns = result.value;
                    },
                    AndroidBatteryMetric.BatteryCountersWire.CHARGE_COUNTER_UAH_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._charge_counter_uah = result.value;
                    },
                    AndroidBatteryMetric.BatteryCountersWire.CAPACITY_PERCENT_WIRE => {
                        const result = try buf.readFloat32(offset);
                        offset += result.size;
                        res._capacity_percent = result.value;
                    },
                    AndroidBatteryMetric.BatteryCountersWire.CURRENT_UA_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._current_ua = result.value;
                    },
                    AndroidBatteryMetric.BatteryCountersWire.CURRENT_AVG_UA_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._current_avg_ua = result.value;
                    },
                    AndroidBatteryMetric.BatteryCountersWire.VOLTAGE_UV_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._voltage_uv = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getTimestampNs(self: *const AndroidBatteryMetric.BatteryCountersReader) i64 {
            return self._timestamp_ns;
        }
        pub inline fn getChargeCounterUah(self: *const AndroidBatteryMetric.BatteryCountersReader) f64 {
            return self._charge_counter_uah;
        }
        pub inline fn getCapacityPercent(self: *const AndroidBatteryMetric.BatteryCountersReader) f32 {
            return self._capacity_percent;
        }
        pub inline fn getCurrentUa(self: *const AndroidBatteryMetric.BatteryCountersReader) f64 {
            return self._current_ua;
        }
        pub inline fn getCurrentAvgUa(self: *const AndroidBatteryMetric.BatteryCountersReader) f64 {
            return self._current_avg_ua;
        }
        pub inline fn getVoltageUv(self: *const AndroidBatteryMetric.BatteryCountersReader) f64 {
            return self._voltage_uv;
        }
    };
    const BatteryAggregatesWire = struct {
        const TOTAL_SCREEN_OFF_NS_WIRE: gremlin.ProtoWireNumber = 1;
        const TOTAL_SCREEN_ON_NS_WIRE: gremlin.ProtoWireNumber = 2;
        const TOTAL_SCREEN_DOZE_NS_WIRE: gremlin.ProtoWireNumber = 3;
        const TOTAL_WAKELOCK_NS_WIRE: gremlin.ProtoWireNumber = 4;
        const SLEEP_NS_WIRE: gremlin.ProtoWireNumber = 5;
        const SLEEP_SCREEN_OFF_NS_WIRE: gremlin.ProtoWireNumber = 6;
        const SLEEP_SCREEN_ON_NS_WIRE: gremlin.ProtoWireNumber = 7;
        const SLEEP_SCREEN_DOZE_NS_WIRE: gremlin.ProtoWireNumber = 8;
        const AVG_POWER_MW_WIRE: gremlin.ProtoWireNumber = 9;
        const AVG_POWER_FROM_CHARGE_DIFF_MW_WIRE: gremlin.ProtoWireNumber = 10;
    };
    pub const BatteryAggregates = struct {
        // fields
        total_screen_off_ns: i64 = 0,
        total_screen_on_ns: i64 = 0,
        total_screen_doze_ns: i64 = 0,
        total_wakelock_ns: i64 = 0,
        sleep_ns: i64 = 0,
        sleep_screen_off_ns: i64 = 0,
        sleep_screen_on_ns: i64 = 0,
        sleep_screen_doze_ns: i64 = 0,
        avg_power_mw: f64 = 0.0,
        avg_power_from_charge_diff_mw: f64 = 0.0,
        pub fn calcProtobufSize(self: *const AndroidBatteryMetric.BatteryAggregates) usize {
            var res: usize = 0;
            if (self.total_screen_off_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_SCREEN_OFF_NS_WIRE) + gremlin.sizes.sizeI64(self.total_screen_off_ns);
            }
            if (self.total_screen_on_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_SCREEN_ON_NS_WIRE) + gremlin.sizes.sizeI64(self.total_screen_on_ns);
            }
            if (self.total_screen_doze_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_SCREEN_DOZE_NS_WIRE) + gremlin.sizes.sizeI64(self.total_screen_doze_ns);
            }
            if (self.total_wakelock_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_WAKELOCK_NS_WIRE) + gremlin.sizes.sizeI64(self.total_wakelock_ns);
            }
            if (self.sleep_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_NS_WIRE) + gremlin.sizes.sizeI64(self.sleep_ns);
            }
            if (self.sleep_screen_off_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_SCREEN_OFF_NS_WIRE) + gremlin.sizes.sizeI64(self.sleep_screen_off_ns);
            }
            if (self.sleep_screen_on_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_SCREEN_ON_NS_WIRE) + gremlin.sizes.sizeI64(self.sleep_screen_on_ns);
            }
            if (self.sleep_screen_doze_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_SCREEN_DOZE_NS_WIRE) + gremlin.sizes.sizeI64(self.sleep_screen_doze_ns);
            }
            if (self.avg_power_mw != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryAggregatesWire.AVG_POWER_MW_WIRE) + gremlin.sizes.sizeDouble(self.avg_power_mw);
            }
            if (self.avg_power_from_charge_diff_mw != 0.0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.BatteryAggregatesWire.AVG_POWER_FROM_CHARGE_DIFF_MW_WIRE) + gremlin.sizes.sizeDouble(self.avg_power_from_charge_diff_mw);
            }
            return res;
        }
        pub fn encode(self: *const AndroidBatteryMetric.BatteryAggregates, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidBatteryMetric.BatteryAggregates, target: *gremlin.Writer) void {
            if (self.total_screen_off_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_SCREEN_OFF_NS_WIRE, self.total_screen_off_ns);
            }
            if (self.total_screen_on_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_SCREEN_ON_NS_WIRE, self.total_screen_on_ns);
            }
            if (self.total_screen_doze_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_SCREEN_DOZE_NS_WIRE, self.total_screen_doze_ns);
            }
            if (self.total_wakelock_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_WAKELOCK_NS_WIRE, self.total_wakelock_ns);
            }
            if (self.sleep_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_NS_WIRE, self.sleep_ns);
            }
            if (self.sleep_screen_off_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_SCREEN_OFF_NS_WIRE, self.sleep_screen_off_ns);
            }
            if (self.sleep_screen_on_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_SCREEN_ON_NS_WIRE, self.sleep_screen_on_ns);
            }
            if (self.sleep_screen_doze_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_SCREEN_DOZE_NS_WIRE, self.sleep_screen_doze_ns);
            }
            if (self.avg_power_mw != 0.0) {
                target.appendFloat64(AndroidBatteryMetric.BatteryAggregatesWire.AVG_POWER_MW_WIRE, self.avg_power_mw);
            }
            if (self.avg_power_from_charge_diff_mw != 0.0) {
                target.appendFloat64(AndroidBatteryMetric.BatteryAggregatesWire.AVG_POWER_FROM_CHARGE_DIFF_MW_WIRE, self.avg_power_from_charge_diff_mw);
            }
        }
    };
    pub const BatteryAggregatesReader = struct {
        buf: gremlin.Reader,
        _total_screen_off_ns: i64 = 0,
        _total_screen_on_ns: i64 = 0,
        _total_screen_doze_ns: i64 = 0,
        _total_wakelock_ns: i64 = 0,
        _sleep_ns: i64 = 0,
        _sleep_screen_off_ns: i64 = 0,
        _sleep_screen_on_ns: i64 = 0,
        _sleep_screen_doze_ns: i64 = 0,
        _avg_power_mw: f64 = 0.0,
        _avg_power_from_charge_diff_mw: f64 = 0.0,
        pub fn init(src: []const u8) gremlin.Error!AndroidBatteryMetric.BatteryAggregatesReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidBatteryMetric.BatteryAggregatesReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_SCREEN_OFF_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._total_screen_off_ns = result.value;
                    },
                    AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_SCREEN_ON_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._total_screen_on_ns = result.value;
                    },
                    AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_SCREEN_DOZE_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._total_screen_doze_ns = result.value;
                    },
                    AndroidBatteryMetric.BatteryAggregatesWire.TOTAL_WAKELOCK_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._total_wakelock_ns = result.value;
                    },
                    AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._sleep_ns = result.value;
                    },
                    AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_SCREEN_OFF_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._sleep_screen_off_ns = result.value;
                    },
                    AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_SCREEN_ON_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._sleep_screen_on_ns = result.value;
                    },
                    AndroidBatteryMetric.BatteryAggregatesWire.SLEEP_SCREEN_DOZE_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._sleep_screen_doze_ns = result.value;
                    },
                    AndroidBatteryMetric.BatteryAggregatesWire.AVG_POWER_MW_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._avg_power_mw = result.value;
                    },
                    AndroidBatteryMetric.BatteryAggregatesWire.AVG_POWER_FROM_CHARGE_DIFF_MW_WIRE => {
                        const result = try buf.readFloat64(offset);
                        offset += result.size;
                        res._avg_power_from_charge_diff_mw = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getTotalScreenOffNs(self: *const AndroidBatteryMetric.BatteryAggregatesReader) i64 {
            return self._total_screen_off_ns;
        }
        pub inline fn getTotalScreenOnNs(self: *const AndroidBatteryMetric.BatteryAggregatesReader) i64 {
            return self._total_screen_on_ns;
        }
        pub inline fn getTotalScreenDozeNs(self: *const AndroidBatteryMetric.BatteryAggregatesReader) i64 {
            return self._total_screen_doze_ns;
        }
        pub inline fn getTotalWakelockNs(self: *const AndroidBatteryMetric.BatteryAggregatesReader) i64 {
            return self._total_wakelock_ns;
        }
        pub inline fn getSleepNs(self: *const AndroidBatteryMetric.BatteryAggregatesReader) i64 {
            return self._sleep_ns;
        }
        pub inline fn getSleepScreenOffNs(self: *const AndroidBatteryMetric.BatteryAggregatesReader) i64 {
            return self._sleep_screen_off_ns;
        }
        pub inline fn getSleepScreenOnNs(self: *const AndroidBatteryMetric.BatteryAggregatesReader) i64 {
            return self._sleep_screen_on_ns;
        }
        pub inline fn getSleepScreenDozeNs(self: *const AndroidBatteryMetric.BatteryAggregatesReader) i64 {
            return self._sleep_screen_doze_ns;
        }
        pub inline fn getAvgPowerMw(self: *const AndroidBatteryMetric.BatteryAggregatesReader) f64 {
            return self._avg_power_mw;
        }
        pub inline fn getAvgPowerFromChargeDiffMw(self: *const AndroidBatteryMetric.BatteryAggregatesReader) f64 {
            return self._avg_power_from_charge_diff_mw;
        }
    };
    const SuspendPeriodWire = struct {
        const TIMESTAMP_NS_WIRE: gremlin.ProtoWireNumber = 1;
        const DURATION_NS_WIRE: gremlin.ProtoWireNumber = 2;
    };
    pub const SuspendPeriod = struct {
        // fields
        timestamp_ns: i64 = 0,
        duration_ns: i64 = 0,
        pub fn calcProtobufSize(self: *const AndroidBatteryMetric.SuspendPeriod) usize {
            var res: usize = 0;
            if (self.timestamp_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.SuspendPeriodWire.TIMESTAMP_NS_WIRE) + gremlin.sizes.sizeI64(self.timestamp_ns);
            }
            if (self.duration_ns != 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetric.SuspendPeriodWire.DURATION_NS_WIRE) + gremlin.sizes.sizeI64(self.duration_ns);
            }
            return res;
        }
        pub fn encode(self: *const AndroidBatteryMetric.SuspendPeriod, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
            const size = self.calcProtobufSize();
            if (size == 0) {
                return &[_]u8{};
            }
            const buf = try allocator.alloc(u8, self.calcProtobufSize());
            var writer = gremlin.Writer.init(buf);
            self.encodeTo(&writer);
            return buf;
        }
        pub fn encodeTo(self: *const AndroidBatteryMetric.SuspendPeriod, target: *gremlin.Writer) void {
            if (self.timestamp_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.SuspendPeriodWire.TIMESTAMP_NS_WIRE, self.timestamp_ns);
            }
            if (self.duration_ns != 0) {
                target.appendInt64(AndroidBatteryMetric.SuspendPeriodWire.DURATION_NS_WIRE, self.duration_ns);
            }
        }
    };
    pub const SuspendPeriodReader = struct {
        buf: gremlin.Reader,
        _timestamp_ns: i64 = 0,
        _duration_ns: i64 = 0,
        pub fn init(src: []const u8) gremlin.Error!AndroidBatteryMetric.SuspendPeriodReader {
            const buf = gremlin.Reader.init(src);
            var res = AndroidBatteryMetric.SuspendPeriodReader{ .buf = buf };
            if (buf.buf.len == 0) {
                return res;
            }
            var offset: usize = 0;
            while (buf.hasNext(offset, 0)) {
                const tag = try buf.readTagAt(offset);
                offset += tag.size;
                switch (tag.number) {
                    AndroidBatteryMetric.SuspendPeriodWire.TIMESTAMP_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._timestamp_ns = result.value;
                    },
                    AndroidBatteryMetric.SuspendPeriodWire.DURATION_NS_WIRE => {
                        const result = try buf.readInt64(offset);
                        offset += result.size;
                        res._duration_ns = result.value;
                    },
                    else => {
                        offset = try buf.skipData(offset, tag.wire);
                    },
                }
            }
            return res;
        }
        pub fn sourceBytes(self: *const @This()) []const u8 {
            return self.buf.buf;
        }
        pub inline fn getTimestampNs(self: *const AndroidBatteryMetric.SuspendPeriodReader) i64 {
            return self._timestamp_ns;
        }
        pub inline fn getDurationNs(self: *const AndroidBatteryMetric.SuspendPeriodReader) i64 {
            return self._duration_ns;
        }
    };
    // fields
    battery_counters: ?[]const ?AndroidBatteryMetric.BatteryCounters = null,
    battery_aggregates: ?AndroidBatteryMetric.BatteryAggregates = null,
    suspend_period: ?[]const ?AndroidBatteryMetric.SuspendPeriod = null,
    pub fn calcProtobufSize(self: *const AndroidBatteryMetric) usize {
        var res: usize = 0;
        if (self.battery_counters) |arr| {
            for (arr) |maybe_v| {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetricWire.BATTERY_COUNTERS_WIRE);
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    res += gremlin.sizes.sizeUsize(size) + size;
                } else {
                    res += gremlin.sizes.sizeUsize(0);
                }
            }
        }
        if (self.battery_aggregates) |v| {
            const size = v.calcProtobufSize();
            if (size > 0) {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetricWire.BATTERY_AGGREGATES_WIRE) + gremlin.sizes.sizeUsize(size) + size;
            }
        }
        if (self.suspend_period) |arr| {
            for (arr) |maybe_v| {
                res += gremlin.sizes.sizeWireNumber(AndroidBatteryMetricWire.SUSPEND_PERIOD_WIRE);
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    res += gremlin.sizes.sizeUsize(size) + size;
                } else {
                    res += gremlin.sizes.sizeUsize(0);
                }
            }
        }
        return res;
    }
    pub fn encode(self: *const AndroidBatteryMetric, allocator: std.mem.Allocator) gremlin.Error![]const u8 {
        const size = self.calcProtobufSize();
        if (size == 0) {
            return &[_]u8{};
        }
        const buf = try allocator.alloc(u8, self.calcProtobufSize());
        var writer = gremlin.Writer.init(buf);
        self.encodeTo(&writer);
        return buf;
    }
    pub fn encodeTo(self: *const AndroidBatteryMetric, target: *gremlin.Writer) void {
        if (self.battery_counters) |arr| {
            for (arr) |maybe_v| {
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    target.appendBytesTag(AndroidBatteryMetricWire.BATTERY_COUNTERS_WIRE, size);
                    v.encodeTo(target);
                } else {
                    target.appendBytesTag(AndroidBatteryMetricWire.BATTERY_COUNTERS_WIRE, 0);
                }
            }
        }
        if (self.battery_aggregates) |v| {
            const size = v.calcProtobufSize();
            if (size > 0) {
                target.appendBytesTag(AndroidBatteryMetricWire.BATTERY_AGGREGATES_WIRE, size);
                v.encodeTo(target);
            }
        }
        if (self.suspend_period) |arr| {
            for (arr) |maybe_v| {
                if (maybe_v) |v| {
                    const size = v.calcProtobufSize();
                    target.appendBytesTag(AndroidBatteryMetricWire.SUSPEND_PERIOD_WIRE, size);
                    v.encodeTo(target);
                } else {
                    target.appendBytesTag(AndroidBatteryMetricWire.SUSPEND_PERIOD_WIRE, 0);
                }
            }
        }
    }
};
pub const AndroidBatteryMetricReader = struct {
    buf: gremlin.Reader,
    _battery_counters_offset: ?usize = null,
    _battery_counters_last_offset: ?usize = null,
    _battery_counters_cnt: usize = 0,
    _battery_aggregates_buf: ?[]const u8 = null,
    _suspend_period_offset: ?usize = null,
    _suspend_period_last_offset: ?usize = null,
    _suspend_period_cnt: usize = 0,
    pub fn init(src: []const u8) gremlin.Error!AndroidBatteryMetricReader {
        const buf = gremlin.Reader.init(src);
        var res = AndroidBatteryMetricReader{ .buf = buf };
        if (buf.buf.len == 0) {
            return res;
        }
        var offset: usize = 0;
        while (buf.hasNext(offset, 0)) {
            const tag = try buf.readTagAt(offset);
            offset += tag.size;
            switch (tag.number) {
                AndroidBatteryMetricWire.BATTERY_COUNTERS_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    if (res._battery_counters_offset == null) {
                        res._battery_counters_offset = offset - result.size;
                    }
                    res._battery_counters_last_offset = offset;
                    res._battery_counters_cnt += 1;
                },
                AndroidBatteryMetricWire.BATTERY_AGGREGATES_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    res._battery_aggregates_buf = result.value;
                },
                AndroidBatteryMetricWire.SUSPEND_PERIOD_WIRE => {
                    const result = try buf.readBytes(offset);
                    offset += result.size;
                    if (res._suspend_period_offset == null) {
                        res._suspend_period_offset = offset - result.size;
                    }
                    res._suspend_period_last_offset = offset;
                    res._suspend_period_cnt += 1;
                },
                else => {
                    offset = try buf.skipData(offset, tag.wire);
                },
            }
        }
        return res;
    }
    pub fn sourceBytes(self: *const @This()) []const u8 {
        return self.buf.buf;
    }
    pub fn batteryCountersCount(self: *const AndroidBatteryMetricReader) usize {
        return self._battery_counters_cnt;
    }
    pub fn batteryCountersNext(self: *AndroidBatteryMetricReader) ?AndroidBatteryMetric.BatteryCountersReader {
        if (self._battery_counters_offset == null) return null;
        const current_offset = self._battery_counters_offset.?;
        const result = self.buf.readBytes(current_offset) catch return null;
        const msg = AndroidBatteryMetric.BatteryCountersReader.init(result.value) catch return null;
        if (self._battery_counters_last_offset != null and current_offset >= self._battery_counters_last_offset.?) {
            self._battery_counters_offset = null;
            return msg;
        }
        if (self._battery_counters_last_offset == null) unreachable;
        var next_offset = current_offset + result.size;
        const max_offset = self._battery_counters_last_offset.?;
        while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
            const tag = self.buf.readTagAt(next_offset) catch break;
            next_offset += tag.size;
            if (tag.number == AndroidBatteryMetricWire.BATTERY_COUNTERS_WIRE) {
                self._battery_counters_offset = next_offset;
                return msg;
            } else {
                next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
            }
        }
        self._battery_counters_offset = null;
        return msg;
    }
    pub fn getBatteryAggregates(self: *const AndroidBatteryMetricReader) gremlin.Error!AndroidBatteryMetric.BatteryAggregatesReader {
        if (self._battery_aggregates_buf) |buf| {
            return try AndroidBatteryMetric.BatteryAggregatesReader.init(buf);
        }
        return try AndroidBatteryMetric.BatteryAggregatesReader.init(&[_]u8{});
    }
    pub fn suspendPeriodCount(self: *const AndroidBatteryMetricReader) usize {
        return self._suspend_period_cnt;
    }
    pub fn suspendPeriodNext(self: *AndroidBatteryMetricReader) ?AndroidBatteryMetric.SuspendPeriodReader {
        if (self._suspend_period_offset == null) return null;
        const current_offset = self._suspend_period_offset.?;
        const result = self.buf.readBytes(current_offset) catch return null;
        const msg = AndroidBatteryMetric.SuspendPeriodReader.init(result.value) catch return null;
        if (self._suspend_period_last_offset != null and current_offset >= self._suspend_period_last_offset.?) {
            self._suspend_period_offset = null;
            return msg;
        }
        if (self._suspend_period_last_offset == null) unreachable;
        var next_offset = current_offset + result.size;
        const max_offset = self._suspend_period_last_offset.?;
        while (next_offset <= max_offset and self.buf.hasNext(next_offset, 0)) {
            const tag = self.buf.readTagAt(next_offset) catch break;
            next_offset += tag.size;
            if (tag.number == AndroidBatteryMetricWire.SUSPEND_PERIOD_WIRE) {
                self._suspend_period_offset = next_offset;
                return msg;
            } else {
                next_offset = self.buf.skipData(next_offset, tag.wire) catch break;
            }
        }
        self._suspend_period_offset = null;
        return msg;
    }
};
